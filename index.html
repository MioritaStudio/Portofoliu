<!DOCTYPE html>
<html lang="ro">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Miorița Studio - Dezvoltare web modernă și design digital de excepție. Soluții personalizate pentru afacerea ta.">
    <title>Miorița Studio | Viitorul Digital, Creat Astăzi</title>
    
    <!-- Preconnect pentru resurse externe -->
    <link rel="preconnect" href="https://cdn.tailwindcss.com">
    <link rel="preconnect" href="https://cdnjs.cloudflare.com">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="preconnect" href="https://raw.githubusercontent.com">
    
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com" defer></script>
    <!-- Font Awesome for Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" media="print" onload="this.media='all'">
    <!-- Google Font: Inter -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">
    <!-- Anime.js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" defer></script>
    <style>
        /* Definirea culorilor și fontului */
        :root {
            --color-primary: #8B5CF6; /* Purple-500 */
            --color-secondary: #06B6D4; /* Cyan-500 */
            --color-dark-bg: #030712; /* Extra Dark */
            --color-card-bg: #0F172A; /* Slate-900 */
        }
        
        body {
            font-family: 'Inter', sans-serif;
            background: linear-gradient(180deg, #000000 0%, var(--color-dark-bg) 220px, var(--color-dark-bg) 100%);
            background-color: var(--color-dark-bg);
            color: #E5E7EB; /* Gray-200 */
            scroll-behavior: smooth;
            overflow-x: hidden;
            min-height: 100vh;
        }

        #logo-container .logo-media {
            animation: introLogoPulse 9s ease-in-out infinite;
            border-radius: 16px;
            display: block;
        }

        @keyframes introLogoPulse {
            0%, 100% {
                transform: scale(0.96) rotate(-1deg);
            }
            50% {
                transform: scale(1.04) rotate(1deg);
            }
        }


        /* ----------------------------------- */
        /* 1. FUNDAL NEURAL NETWORK (CANVAS) */
        /* ----------------------------------- */
        #neural-net-canvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: block;
            opacity: 0.4; /* Opacitate crescută pentru vizibilitate */
            z-index: -10;
        }

        /* ------------------------------- */
        /* 2. EFECTE CINEMATICE (SCROLL) */
        /* ------------------------------- */
        .cinematic-fade-in {
            opacity: 0;
            transform: translateY(40px);
            transition: opacity 1.2s cubic-bezier(0.25, 0.46, 0.45, 0.94), transform 1.2s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        }

        .cinematic-scale-in {
            opacity: 0;
            transform: scale(0.95);
            transition: opacity 1.5s cubic-bezier(0.25, 0.46, 0.45, 0.94), transform 1.5s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        }

        .animated-visible {
            opacity: 1;
            transform: translateY(0) scale(1);
        }

        /* ----------------------------------- */
        /* 3. STICKY HEADER & SCROLL EFFECT */
        /* ----------------------------------- */
        .header-sticky {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            width: 100%;
            z-index: 9999;
            transition: all 0.3s ease;
            will-change: transform;
        }

        #main-header {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            background: #000000;
            background-image: radial-gradient(circle at 15% 20%, rgba(139, 92, 246, 0.18), transparent 55%),
                              radial-gradient(circle at 85% 10%, rgba(6, 182, 212, 0.16), transparent 60%);
            box-shadow: 0 20px 45px rgba(0, 0, 0, 0.65);
            border-bottom: none;
        }

        #main-header::after {
            content: '';
            position: absolute;
            left: 0;
            right: 0;
            bottom: -1px;
            height: 12px;
            background: linear-gradient(180deg, rgba(0, 0, 0, 0.9) 0%, rgba(3, 7, 18, 0) 100%);
            pointer-events: none;
        }

        .header-scrolled {
            position: fixed;
            background: #000000;
            background-image: radial-gradient(circle at 15% 20%, rgba(139, 92, 246, 0.2), transparent 55%),
                              radial-gradient(circle at 85% 10%, rgba(6, 182, 212, 0.18), transparent 60%);
            box-shadow: 0 24px 55px rgba(0, 0, 0, 0.75);
            animation: slideInFromTop 0.3s ease-out;
        }

        @keyframes slideInFromTop {
            from {
                transform: translateY(-100%);
            }
            to {
                transform: translateY(0);
            }
        }

        .header-logo {
            height: 64px;
            width: auto;
            border-radius: 12px;
            animation: headerLogoGlow 10s ease-in-out infinite;
            display: block;
            object-fit: contain;
        }

        @keyframes headerLogoGlow {
            0%, 100% {
                transform: scale(0.98);
            }
            50% {
                transform: scale(1.02);
            }
        }

        .nav-link {
            position: relative;
            font-weight: 500;
            transition: color 0.2s ease, transform 0.2s ease;
        }

        .nav-link::after {
            content: '';
            position: absolute;
            left: 0;
            bottom: -6px;
            width: 100%;
            height: 2px;
            background: linear-gradient(90deg, rgba(139, 92, 246, 0.8), rgba(6, 182, 212, 0.8));
            transform: scaleX(0);
            transform-origin: center;
            transition: transform 0.25s ease;
        }

        .nav-link:hover {
            color: #bae6fd;
            transform: translateY(-2px);
        }

        .nav-link:hover::after {
            transform: scaleX(1);
        }

        .piano-letter {
            display: inline-block;
            padding: 0 0.02em;
            transition: transform 0.18s ease, color 0.18s ease, text-shadow 0.18s ease;
            will-change: transform, color;
            transform-origin: bottom center;
        }

        .piano-letter.active {
            transform: translateY(-9px);
            color: #f8fafc;
            text-shadow: 0 10px 26px rgba(139, 92, 246, 0.45);
        }

        /* Header transformare în dock */
        @media (max-width: 1023px) {
            #header-normal {
                transition: all 0.3s ease;
            }
            
            .header-as-dock #header-normal {
                padding: 0.5rem 1rem;
            }
            
            .header-as-dock .logo-img {
                transform: scale(0.8);
            }
            
            .header-as-dock #header-menu {
                margin-top: 0;
                padding: 0.25rem 0;
            }
            
            /* Ascunde numele când e în mod dock */
            .header-as-dock .tracking-wider {
                display: none;
            }
        }
        
        .logo-img {
            max-height: 40px;
            width: auto;
        }

        .footer-logo-img {
            height: 20px;
            width: auto;
            display: inline;
            vertical-align: middle;
            opacity: 0.7;
            transition: opacity 0.3s ease;
        }
        .footer-logo-img:hover {
            opacity: 1;
        }


        /* ----------------------------------- */
        /* 4. MOUSE TRACKING GLOW (WOW FACTOR) */
        /* ----------------------------------- */
        .mouse-glow {
            position: fixed;
            width: 150px;
            height: 150px;
            background: radial-gradient(circle, var(--color-primary), transparent 60%);
            pointer-events: none;
            z-index: 10;
            transition: opacity 0.3s ease;
            opacity: 0;
            border-radius: 50%;
        }
        
        /* ----------------------------------- */
        /* 5. MODAL STYLING */
        /* ----------------------------------- */
        .modal-container {
            position: fixed;
            inset: 0;
            z-index: 100; /* Asigură-te că modalele sunt deasupra dock-ului */
            display: none; 
            justify-content: center;
            padding: 1rem; 
            background-color: rgba(0, 0, 0, 0.7);
            backdrop-filter: blur(5px);
            transition: opacity 0.3s ease;
            overflow-y: auto; 
        }

        .modal-content {
             max-height: 90vh; 
             overflow-y: auto;
             margin-top: 2rem; 
             margin-bottom: 2rem; 
        }
        
        @media (min-width: 640px) {
            .modal-content {
                margin-top: 5rem; 
                margin-bottom: 5rem;
            }
        }
        
        .modal-enter-active {
            opacity: 1;
        }
        .modal-enter-from, .modal-leave-to {
            opacity: 0;
        }
        .modal-content-enter-active {
            transition: all 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
        }
        .modal-content-enter-from {
            transform: scale(0.9) translateY(20px);
            opacity: 0;
        }

        /* ----------------------------------- */
        /* 6. Meniu Hamburger Futurist */
        /* ----------------------------------- */
        .hamburger-icon {
            width: 50px;
            height: 50px;
            background: rgba(15, 23, 42, 0.95);
            backdrop-filter: blur(8px);
            border: 1px solid rgba(139, 92, 246, 0.3);
            border-radius: 12px;
            padding: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 20px rgba(139, 92, 246, 0.2);
        }

        .hamburger-icon:hover {
            transform: scale(1.05);
            box-shadow: 0 0 25px rgba(139, 92, 246, 0.4);
        }

        .hamburger-lines {
            position: relative;
            width: 100%;
            height: 20px;
        }

        .line {
            position: absolute;
            height: 2px;
            width: 100%;
            background: linear-gradient(90deg, var(--color-primary), var(--color-secondary));
            border-radius: 2px;
            transition: all 0.5s ease;
        }

        .line1 { top: 0; }
        .line2 { top: 50%; transform: translateY(-50%); }
        .line3 { bottom: 0; }

        /* Animație pentru hamburger activ */
        .hamburger-active .line1 {
            transform: translateY(9px) rotate(45deg);
        }
        .hamburger-active .line2 {
            opacity: 0;
            transform: translateX(20px);
        }
        .hamburger-active .line3 {
            transform: translateY(-9px) rotate(-45deg);
        }

        /* Stiluri pentru meniul overlay */
        #menu-overlay {
            transition: all 0.5s cubic-bezier(0.16, 1, 0.3, 1);
        }

        #menu-overlay::before {
            content: '';
            position: absolute;
            inset: 0;
            background: radial-gradient(circle at center, rgba(139, 92, 246, 0.1), transparent 70%);
            opacity: 0;
            transition: opacity 0.5s ease;
        }

        #menu-overlay.active {
            opacity: 1;
            visibility: visible;
        }

        #menu-overlay.active::before {
            opacity: 1;
        }

        .menu-item {
            position: relative;
            color: white;
            opacity: 0;
            transform: translateY(20px);
            transition: all 0.5s cubic-bezier(0.16, 1, 0.3, 1);
            z-index: 10;
        }

        #menu-overlay.active .menu-item {
            opacity: 1 !important;
            transform: translateY(0);
            visibility: visible !important;
        }

        /* Timing pentru animații */
        #menu-overlay.active .menu-items > *:nth-child(1) { transition-delay: 0.1s; }
        #menu-overlay.active .menu-items > *:nth-child(2) { transition-delay: 0.15s; }
        #menu-overlay.active .menu-items > *:nth-child(3) { transition-delay: 0.2s; }
        #menu-overlay.active .menu-items > *:nth-child(4) { transition-delay: 0.25s; }
        #menu-overlay.active .menu-items > *:nth-child(5) { transition-delay: 0.3s; }

        .menu-item span {
            position: relative;
            display: inline-block;
            transition: transform 0.3s ease;
        }

        .menu-item:hover span {
            transform: translateY(-2px);
        }

        .menu-item::after {
            content: '';
            position: absolute;
            bottom: -5px;
            left: 50%;
            width: 0;
            height: 2px;
            background: linear-gradient(90deg, var(--color-primary), var(--color-secondary));
            transition: all 0.3s ease;
            transform: translateX(-50%);
            opacity: 0;
        }

        .menu-item:hover::after {
            width: 100%;
            opacity: 1;
        }

        /* Efect de highlight pentru iconițe */
        .menu-item i {
            position: relative;
            z-index: 1;
        }

        .menu-item i::after {
            content: '';
            position: absolute;
            inset: -8px;
            background: radial-gradient(circle, rgba(139, 92, 246, 0.2), transparent 70%);
            border-radius: 50%;
            opacity: 0;
            transition: opacity 0.3s ease;
            z-index: -1;
        }

        .menu-item:hover i::after {
            opacity: 1;
        }
        
        /* Scroll to Top (Vizibil doar pe desktop, se poate ascunde pe mobil prin JS - scoate // de la liniile 973,974,975,976) */
        #scroll-to-top {
            position: fixed;
            right: 1rem;
            bottom: 5.5rem; 
            z-index: 45;
            opacity: 1;
            visibility: visible !important;
            transition: opacity 0.3s ease;
            display: block !important;
        }

        #scroll-to-top.show {
            opacity: 1;
        }
        
        /* ----------------------------------- */
        /* 7. ASCUNDERE INIȚIALĂ CONȚINUT PRINCIPAL */
        /* ----------------------------------- */
        .content-hidden {
            display: none; 
        }

        /* Floating Controls Wrapper */
        .floating-controls {
            position: fixed;
            right: 1rem;
            bottom: 1.5rem;
            z-index: 45;
            display: flex;
            flex-direction: row;
            gap: 0.7rem;
            align-items: center;
            width: auto;
            padding: 0;
            margin: 0;
        }
        @media (max-width: 768px) {
            .floating-controls {
                position: static;
                width: 100vw;
                left: 0;
                right: 0;
                bottom: 1rem;
                display: block;
                padding: 0;
                margin: 0;
            }
            #ai-bot-btn {
                position: fixed;
                left: 0.5rem;
                bottom: 1rem;
                width: 44px;
                height: 44px;
                z-index: 46;
            }
            #scroll-to-top {
                position: fixed;
                right: 0.5rem;
                bottom: 1rem;
                width: 44px;
                height: 44px;
                z-index: 46;
            }
        }
        @media (min-width: 769px) {
            .floating-controls button, .floating-controls a { width: 56px; height: 56px; padding: 0; }
        }

        /* Hamburger Menu Button - Mereu vizibil */
        .hamburger-menu-button {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 9999;
            width: 50px;
            height: 50px;
            background: linear-gradient(135deg, rgba(139, 92, 246, 0.95), rgba(6, 182, 212, 0.95));
            backdrop-filter: blur(8px);
            border: 2px solid rgba(255, 255, 255, 0.2);
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 0;
            box-shadow: 0 4px 20px rgba(139, 92, 246, 0.4);
            transition: all 0.3s ease;
        }
        .hamburger-menu-button:hover {
            transform: scale(1.1);
            box-shadow: 0 6px 30px rgba(139, 92, 246, 0.6);
        }
        .hamburger-lines {
            width: 20px;
            height: 14px;
            position: relative;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
        }
        .line {
            position: absolute;
            height: 2px;
            width: 100%;
            background: white;
            border-radius: 2px;
            transition: all 0.3s ease;
            left: 0;
        }
        .line1 { top: 0; }
        .line2 { top: 50%; transform: translateY(-50%); }
        .line3 { bottom: 0; }
        .hamburger-menu-button.active .line1 {
            top: 50%;
            transform: translateY(-50%) rotate(45deg);
        }
        .hamburger-menu-button.active .line2 {
            opacity: 0;
        }
        .hamburger-menu-button.active .line3 {
            bottom: 50%;
            transform: translateY(50%) rotate(-45deg);
        }

        @media (min-width: 1024px) {
            .hamburger-menu-button {
                display: none;
            }
        }
        
        /* Menu Overlay Full Screen */
        .menu-overlay {
            position: fixed;
            inset: 0;
            z-index: 9998;
            background: linear-gradient(135deg, rgba(3, 7, 18, 0.98), rgba(15, 23, 42, 0.98));
            backdrop-filter: blur(10px);
            opacity: 0;
            visibility: hidden;
            transition: all 0.4s cubic-bezier(0.25, 0.8, 0.25, 1);
        }
        .menu-overlay.active {
            opacity: 1;
            visibility: visible;
        }
        .menu-content {
            display: flex;
            align-items: center;
            justify-content: center;
            height: 100vh;
            width: 100%;
        }
        .menu-items {
            display: flex;
            flex-direction: column;
            gap: 2rem;
            align-items: center;
        }
        .menu-item {
            display: flex;
            align-items: center;
            gap: 1.5rem;
            font-size: 2.5rem;
            font-weight: 700;
            color: white;
            text-decoration: none;
            opacity: 0;
            transform: translateY(30px);
            transition: all 0.3s ease;
            padding: 1rem 2rem;
            border-radius: 12px;
        }
        .menu-overlay.active .menu-item {
            opacity: 1;
            transform: translateY(0);
        }
        .menu-overlay.active .menu-item:nth-child(1) { transition-delay: 0.1s; }
        .menu-overlay.active .menu-item:nth-child(2) { transition-delay: 0.15s; }
        .menu-overlay.active .menu-item:nth-child(3) { transition-delay: 0.2s; }
        .menu-overlay.active .menu-item:nth-child(4) { transition-delay: 0.25s; }
        .menu-overlay.active .menu-item:nth-child(5) { transition-delay: 0.3s; }
        .menu-overlay.active .menu-item:nth-child(6) { transition-delay: 0.35s; }
        .menu-item:hover {
            background: rgba(139, 92, 246, 0.2);
            transform: translateX(10px);
            color: #8B5CF6;
        }
        .menu-item i {
            font-size: 2rem;
            background: linear-gradient(135deg, #8B5CF6, #06B6D4);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        @media (max-width: 768px) {
            .menu-item {
                font-size: 1.8rem;
                gap: 1rem;
            }
            .menu-item i {
                font-size: 1.5rem;
            }
        }

        .portal-description {
            max-width: 38rem;
            margin: 0 auto;
            transition: opacity 0.4s ease;
        }

        .portal-badges {
            display: flex;
            justify-content: center;
            gap: 1rem;
            flex-wrap: wrap;
        }

        .portal-badge {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            background: rgba(15, 23, 42, 0.7);
            border: 1px solid rgba(148, 163, 184, 0.2);
            border-radius: 9999px;
            padding: 0.4rem 1rem;
            font-size: 0.85rem;
            letter-spacing: 0.02em;
        }

        .structure-selector {
            display: flex;
            flex-wrap: wrap;
            gap: 0.75rem;
        }

        .structure-chip {
            display: inline-flex;
            flex-direction: column;
            gap: 0.5rem;
            min-width: 200px;
            padding: 1rem 1.1rem;
            border-radius: 1rem;
            background: rgba(15, 23, 42, 0.55);
            border: 1px solid rgba(148, 163, 184, 0.25);
            color: #e2e8f0;
            text-align: left;
            transition: all 0.3s ease;
        }

        .structure-chip:hover {
            border-color: rgba(139, 92, 246, 0.55);
            transform: translateY(-1px);
        }

        .structure-chip.active {
            border-color: rgba(6, 182, 212, 0.75);
            background: rgba(13, 148, 136, 0.18);
            box-shadow: 0 10px 30px rgba(6, 182, 212, 0.2);
        }

        .structure-chip span {
            font-size: 0.75rem;
            text-transform: uppercase;
            letter-spacing: 0.08em;
            color: #67e8f9;
        }

        .structure-chip p {
            font-size: 0.95rem;
            color: #cbd5f5;
        }

        .faq-item {
            transition: border-color 0.3s ease, transform 0.3s ease;
        }

        .faq-item:hover {
            border-color: rgba(139, 92, 246, 0.45);
            transform: translateY(-2px);
        }

        .faq-item summary::-webkit-details-marker {
            display: none;
        }

        .faq-item summary i:last-child {
            transition: transform 0.3s ease;
        }

        .faq-item[open] summary i:last-child {
            transform: rotate(180deg);
        }

        /* ----------------------------------- */
        /* 9. PORTAL CONFIGURATOR */
        /* ----------------------------------- */
        #configurator-section {
            background: linear-gradient(135deg, rgba(15, 23, 42, 0.9), rgba(30, 41, 59, 0.9));
            border-radius: 2rem;
            border: 1px solid rgba(148, 163, 184, 0.12);
            box-shadow: 0 25px 60px rgba(15, 23, 42, 0.4);
        }

        .configurator-grid {
            display: grid;
            grid-template-columns: repeat(12, minmax(0, 1fr));
            gap: 2rem;
        }

        .configurator-panel {
            grid-column: span 7 / span 7;
            display: flex;
            flex-direction: column;
            gap: 1.75rem;
        }

        .configurator-summary {
            grid-column: span 5 / span 5;
            background: rgba(15, 23, 42, 0.7);
            border-radius: 1.5rem;
            border: 1px solid rgba(139, 92, 246, 0.35);
            padding: 2rem;
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
            position: relative;
            overflow: hidden;
        }

        .configurator-summary::after {
            content: '';
            position: absolute;
            inset: 0;
            background: radial-gradient(circle at top, rgba(139, 92, 246, 0.25), transparent 60%);
            pointer-events: none;
        }

        .configurator-step {
            background: rgba(15, 23, 42, 0.65);
            border: 1px solid rgba(148, 163, 184, 0.18);
            border-radius: 1.25rem;
            padding: 1.5rem;
            box-shadow: inset 0 0 0 1px rgba(148, 163, 184, 0.05);
        }

        .choice-grid {
            display: grid;
            gap: 0.85rem;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
        }

        .choice-tile {
            position: relative;
            border-radius: 1rem;
            padding: 1rem;
            background: rgba(30, 41, 59, 0.8);
            border: 1px solid transparent;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .choice-tile:hover {
            transform: translateY(-4px);
            border-color: rgba(139, 92, 246, 0.35);
            box-shadow: 0 15px 30px rgba(15, 23, 42, 0.4);
        }

        .choice-tile.active {
            border-color: rgba(6, 182, 212, 0.6);
            box-shadow: 0 12px 40px rgba(6, 182, 212, 0.25);
            background: linear-gradient(135deg, rgba(30, 41, 59, 0.95), rgba(8, 145, 178, 0.2));
        }

        .progress-track {
            width: 100%;
            height: 10px;
            border-radius: 9999px;
            background: rgba(148, 163, 184, 0.2);
            overflow: hidden;
        }

        .progress-value {
            height: 100%;
            border-radius: inherit;
            background: linear-gradient(90deg, rgba(139, 92, 246, 0.8), rgba(6, 182, 212, 0.85));
            width: 0;
            transition: width 0.4s ease;
        }

        .summary-badges {
            display: flex;
            flex-wrap: wrap;
            gap: 0.75rem;
        }

        .summary-badge {
            padding: 0.35rem 0.9rem;
            border-radius: 9999px;
            background: rgba(148, 163, 184, 0.12);
            border: 1px solid rgba(148, 163, 184, 0.25);
            font-size: 0.8rem;
            display: inline-flex;
            align-items: center;
            gap: 0.4rem;
        }

        .achievement-feed {
            display: grid;
            gap: 0.75rem;
        }

        .achievement-item {
            display: flex;
            align-items: flex-start;
            gap: 0.75rem;
            padding: 0.75rem 1rem;
            border-radius: 1rem;
            background: rgba(15, 23, 42, 0.75);
            border: 1px solid rgba(139, 92, 246, 0.25);
        }

        .achievement-item i {
            color: #22d3ee;
            margin-top: 0.15rem;
        }

        @media (max-width: 1024px) {
            .configurator-grid {
                grid-template-columns: 1fr;
            }

            .configurator-panel,
            .configurator-summary {
                grid-column: span 12 / span 12;
            }
        }

        /* ----------------------------------- */
        /* 10. TIMELINE DE COLABORARE          */
        /* ----------------------------------- */
        .prep-grid {
            display: grid;
            gap: 1.5rem;
            margin-bottom: 3rem;
        }

        @media (min-width: 1024px) {
            .prep-grid {
                grid-template-columns: repeat(2, minmax(0, 1fr));
            }
        }

        .prep-card {
            background: rgba(15, 23, 42, 0.78);
            border-radius: 1.5rem;
            border: 1px solid rgba(139, 92, 246, 0.35);
            padding: 1.75rem;
            position: relative;
            overflow: hidden;
        }

        .prep-card::before {
            content: '';
            position: absolute;
            inset: 0;
            background: radial-gradient(circle at top right, rgba(6, 182, 212, 0.22), transparent 60%);
            pointer-events: none;
        }

        .prep-card > * {
            position: relative;
            z-index: 1;
        }

        .prep-card h3 {
            font-size: 1.4rem;
            font-weight: 700;
            color: #f1f5f9;
            margin-bottom: 0.5rem;
        }

        .prep-card p {
            color: #cbd5f5;
        }

        .prep-checklist {
            display: grid;
            gap: 0.85rem;
            margin-top: 1.5rem;
        }

        .prep-check-item {
            display: flex;
            align-items: flex-start;
            gap: 0.75rem;
            padding: 1rem 1.1rem;
            border-radius: 1rem;
            background: rgba(30, 41, 59, 0.75);
            border: 1px solid rgba(148, 163, 184, 0.22);
            transition: border-color 0.3s ease, box-shadow 0.3s ease;
        }

        .prep-check-item input[type="checkbox"] {
            margin-top: 0.25rem;
            accent-color: #8B5CF6;
        }

        .prep-check-item strong {
            color: #f8fafc;
            display: block;
            margin-bottom: 0.25rem;
        }

        .prep-check-item span {
            font-size: 0.9rem;
            color: #cbd5f5;
            line-height: 1.5;
        }

        .prep-check-item.completed {
            border-color: rgba(16, 185, 129, 0.6);
            box-shadow: 0 14px 32px rgba(16, 185, 129, 0.16);
        }

        .prep-progress {
            margin-top: 1.5rem;
            font-size: 0.9rem;
            color: #a5b4fc;
        }

        .prep-deliverables {
            display: grid;
            gap: 1.25rem;
            margin-top: 1.5rem;
        }

        .prep-deliverables li {
            list-style: none;
            padding: 1.1rem 1.2rem;
            border-radius: 1rem;
            background: rgba(30, 41, 59, 0.78);
            border: 1px solid rgba(148, 163, 184, 0.22);
        }

        .prep-deliverables li h4 {
            font-size: 1.1rem;
            margin-bottom: 0.4rem;
            color: #f8fafc;
        }

        .prep-callout {
            margin-top: 1.5rem;
            padding: 1rem 1.25rem;
            border-radius: 1rem;
            background: rgba(22, 163, 74, 0.15);
            border: 1px solid rgba(22, 163, 74, 0.3);
            color: #bbf7d0;
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }

        .prep-callout i {
            color: #4ade80;
        }

        .timeline-wrapper {
            max-width: 58rem;
            margin: 0 auto;
            position: relative;
        }

        .timeline-card {
            background: rgba(30, 41, 59, 0.78);
            border-radius: 1.25rem;
            border: 1px solid rgba(148, 163, 184, 0.2);
            padding: 1.75rem;
            transition: transform 0.3s ease, box-shadow 0.3s ease, border-color 0.3s ease;
        }

        .timeline-card:hover {
            transform: translateY(-4px);
            border-color: rgba(139, 92, 246, 0.45);
            box-shadow: 0 16px 40px rgba(139, 92, 246, 0.18);
        }

        .timeline-card h3 {
            font-size: 1.5rem;
            margin-bottom: 0.75rem;
            color: #f8fafc;
        }

        .timeline-card p {
            color: #cbd5f5;
        }

        .timeline-checklist {
            list-style: none;
            margin: 1rem 0;
            padding: 0;
            display: grid;
            gap: 0.65rem;
        }

        .timeline-checklist li {
            display: flex;
            align-items: flex-start;
            gap: 0.6rem;
            font-size: 0.95rem;
            color: #e2e8f0;
        }

        .timeline-checklist li i {
            color: #5eead4;
            margin-top: 0.2rem;
        }

        .timeline-meta {
            display: flex;
            flex-wrap: wrap;
            gap: 0.75rem 1.5rem;
            margin-top: 1rem;
            font-size: 0.85rem;
            color: #cbd5f5;
        }

        .timeline-meta span {
            display: inline-flex;
            align-items: center;
            gap: 0.4rem;
        }

        .timeline-meta span i {
            color: #facc15;
        }

        .mission-status {
            display: inline-flex;
            align-items: center;
            gap: 0.4rem;
            font-size: 0.8rem;
            font-weight: 600;
            letter-spacing: 0.04em;
            border-radius: 9999px;
            padding: 0.25rem 0.8rem;
            background: rgba(15, 118, 110, 0.25);
            color: #5eead4;
        }

        .mission-status.locked {
            background: rgba(148, 163, 184, 0.16);
            color: #94a3b8;
        }

        /* ----------------------------------- */
        /* 11. CARUSEL STORY MODE               */
        /* ----------------------------------- */
        .story-layout {
            display: grid;
            grid-template-columns: 3fr 1.2fr;
            gap: 2rem;
            align-items: stretch;
        }

        .achievement-panel {
            background: rgba(15, 23, 42, 0.75);
            border-radius: 1.5rem;
            border: 1px solid rgba(139, 92, 246, 0.35);
            padding: 2rem 1.75rem;
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
        }

        .tracker-grid {
            display: grid;
            grid-template-columns: repeat(2, minmax(0, 1fr));
            gap: 1rem;
        }

        .tracker-card {
            background: rgba(30, 41, 59, 0.75);
            border: 1px solid rgba(148, 163, 184, 0.18);
            border-radius: 1rem;
            padding: 0.75rem 1rem;
        }

        .tracker-card h4 {
            font-size: 0.75rem;
            text-transform: uppercase;
            letter-spacing: 0.08em;
            color: #94a3b8;
        }

        .tracker-card p {
            font-size: 1.5rem;
            font-weight: 700;
            margin-top: 0.35rem;
        }

        .story-chapter {
            font-size: 0.9rem;
            color: #cbd5f5;
            line-height: 1.6;
            background: rgba(30, 41, 59, 0.6);
            padding: 1rem 1.25rem;
            border-radius: 1rem;
            border: 1px solid rgba(139, 92, 246, 0.18);
        }

        .story-badges {
            display: flex;
            flex-wrap: wrap;
            gap: 0.6rem;
        }

        .story-badge {
            font-size: 0.75rem;
            padding: 0.35rem 0.75rem;
            border-radius: 9999px;
            background: rgba(139, 92, 246, 0.15);
            color: #c4b5fd;
            border: 1px solid rgba(139, 92, 246, 0.35);
        }

        @media (max-width: 1024px) {
            .story-layout {
                grid-template-columns: 1fr;
            }

            .achievement-panel {
                order: -1;
            }
        }

        /* ----------------------------------- */
        /* 12. CONTACT CHATBOT & MOOD SELECTOR  */
        /* ----------------------------------- */
        .mood-selector {
            display: flex;
            gap: 0.75rem;
            flex-wrap: wrap;
        }

        .mood-chip {
            border-radius: 9999px;
            padding: 0.45rem 1.1rem;
            background: rgba(30, 41, 59, 0.75);
            border: 1px solid rgba(148, 163, 184, 0.2);
            font-size: 0.85rem;
            cursor: pointer;
            transition: all 0.25s ease;
        }

        .mood-chip.active {
            border-color: rgba(6, 182, 212, 0.65);
            box-shadow: 0 10px 20px rgba(6, 182, 212, 0.2);
            color: #5eead4;
        }

        .chatbot-window {
            background: rgba(15, 23, 42, 0.65);
            border-radius: 1.25rem;
            border: 1px solid rgba(139, 92, 246, 0.3);
            padding: 1.25rem;
            display: grid;
            gap: 0.75rem;
            font-size: 0.95rem;
            margin-top: 1.5rem;
        }

        .chatbot-message {
            display: flex;
            align-items: flex-start;
            gap: 0.6rem;
        }

        .chatbot-avatar {
            width: 34px;
            height: 34px;
            border-radius: 50%;
            background: linear-gradient(135deg, #8B5CF6, #06B6D4);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.1rem;
            flex-shrink: 0;
        }

        .chatbot-actions {
            display: flex;
            gap: 0.5rem;
            flex-wrap: wrap;
        }

        .chatbot-action-btn {
            background: rgba(30, 41, 59, 0.8);
            border: 1px solid rgba(148, 163, 184, 0.2);
            border-radius: 0.75rem;
            padding: 0.4rem 0.8rem;
            font-size: 0.85rem;
            transition: all 0.25s ease;
        }

        .chatbot-action-btn:hover {
            border-color: rgba(139, 92, 246, 0.45);
            color: #c4b5fd;
        }

        .chatbot-summary {
            font-size: 0.85rem;
            color: #94a3b8;
            line-height: 1.5;
            border-top: 1px dashed rgba(148, 163, 184, 0.2);
            padding-top: 0.75rem;
        }
    </style>
</head>
<body>

<!-- Fundal Neural Network Canvas (Noul Fundal Live) -->
<canvas id="neural-net-canvas"></canvas>

<!-- 1. ECRAN DE INTRO CINEMATIC -->
<div id="intro-screen" class="fixed inset-0 flex items-center justify-center h-screen w-screen cinematic-fade-in animated-visible bg-black z-50">
    <div class="text-center p-8">
        <!-- Logo animat (simulat cu CSS și JS) -->
        <div id="logo-container" class="transition duration-1000 ease-in-out transform scale-75 opacity-0">
            <video class="logo-media h-28 md:h-32 mx-auto mb-6" width="120" height="120" autoplay loop muted playsinline poster="https://raw.githubusercontent.com/MioritaStudio/Portofoliu/main/logonew.gif">
                <source src="https://raw.githubusercontent.com/MioritaStudio/Portofoliu/main/logoanim.mp4" type="video/mp4">
                <img src="https://raw.githubusercontent.com/MioritaStudio/Portofoliu/main/logonew.gif" alt="Miorița Studio Logo" width="120" height="120" loading="eager" />
            </video>

            <h1 class="text-6xl md:text-8xl font-extrabold tracking-tight mb-4 bg-clip-text text-transparent bg-gradient-to-r from-purple-400 to-cyan-400">
                Miorița Studio
            </h1>
            <p class="text-xl md:text-2xl text-gray-400 mb-10 font-light italic">
                Viitorul Digital, Creat Astăzi
            </p>
        </div>
        
        <!-- Butonul "Intră" -->
        <button id="enter-button"
                class="cinematic-scale-in opacity-0 text-white font-semibold py-3 px-8 rounded-full transition duration-500 transform hover:scale-105 shadow-xl bg-gradient-to-r from-purple-500 via-purple-400 to-cyan-400">
            <i class="fas fa-meteor mr-2"></i> Intră
        </button>
    </div>
</div>

<!-- Conținutul Principal (Ascuns inițial) -->
<main id="main-content" class="content-hidden">
    
    <!-- 2. HEADER STICKY -->
    <header id="main-header" class="header-sticky fixed w-full top-0 z-40 backdrop-blur-xl">
        <nav id="header-normal" class="container mx-auto px-4 sm:px-6 lg:px-8 py-4" aria-label="Navigație principală">
            <div class="flex items-center justify-between w-full gap-6">
                <a href="#acasa" class="flex items-center gap-3 cinematic-fade-in" style="transition-delay: 0.5s;">
                    <video class="header-logo" width="72" height="72" autoplay loop muted playsinline poster="https://raw.githubusercontent.com/MioritaStudio/Portofoliu/main/logonew.gif">
                        <source src="https://raw.githubusercontent.com/MioritaStudio/Portofoliu/main/logoanim.mp4" type="video/mp4">
                        <img src="https://raw.githubusercontent.com/MioritaStudio/Portofoliu/main/logonew.gif" alt="Miorița Studio Logo" width="72" height="72" />
                    </video>
                    <span class="flex flex-col leading-tight">
                        <span class="text-sm font-semibold tracking-wide text-white sm:text-lg">Miorița Studio</span>
                        <span class="hidden sm:block text-xs text-gray-400 uppercase tracking-[0.3em]">Web &amp; Design</span>
                    </span>
                </a>

                <div class="hidden lg:flex items-center justify-center flex-1">
                    <ul class="flex items-center justify-center gap-8 text-gray-200 text-sm font-medium">
                        <li><a href="#acasa" class="nav-link">Acasă</a></li>
                        <li><a href="#servicii" class="nav-link">Cum lucrăm</a></li>
                        <li><a href="#configurator" class="nav-link">Configurator</a></li>
                        <li><a href="#proiecte" class="nav-link">Proiecte</a></li>
                        <li><a href="#despre" class="nav-link">Despre</a></li>
                        <li><a href="#contact" class="nav-link">Contact</a></li>
                    </ul>
                </div>

                <div class="hidden lg:flex items-center gap-3">
                    <a href="#configurator" class="text-sm font-medium text-gray-200 hover:text-cyan-200 transition">Deschide configuratorul</a>
                    <a href="#" onclick="openContactModal(event)" class="cinematic-fade-in" style="transition-delay: 0.9s;">
                        <button class="py-2 px-6 rounded-full font-semibold text-sm text-white transition duration-300 hover:scale-105"
                                style="background: linear-gradient(90deg, #8B5CF6 0%, #06B6D4 100%);">
                            <i class="fas fa-handshake mr-1"></i> Planifică o discuție
                        </button>
                    </a>
                </div>
            </div>
        </nav>
    </header>

    <!-- Buton Hamburger Fix (vizibil doar pe mobil) -->
    <button id="hamburger-menu-btn" class="hamburger-menu-button lg:hidden" aria-label="Deschide meniul">
        <div class="hamburger-lines">
            <span class="line line1"></span>
            <span class="line line2"></span>
            <span class="line line3"></span>
        </div>
    </button>

    <!-- Menu Overlay Full Screen -->
    <div id="menu-overlay" class="menu-overlay">
        <div class="menu-content">
            <nav class="menu-items">
                <a href="#acasa" class="menu-item">
                    <i class="fas fa-home"></i>
                    <span>Acasă</span>
                </a>
                <a href="#servicii" class="menu-item">
                    <i class="fas fa-route"></i>
                    <span>Cum lucrăm</span>
                </a>
                <a href="#configurator" class="menu-item">
                    <i class="fas fa-sliders"></i>
                    <span>Configurator</span>
                </a>
                <a href="#proiecte" class="menu-item">
                    <i class="fas fa-briefcase"></i>
                    <span>Proiecte</span>
                </a>
                <a href="#despre" class="menu-item">
                    <i class="fas fa-circle-info"></i>
                    <span>Despre</span>
                </a>
                <a href="#contact" class="menu-item">
                    <i class="fas fa-user-circle"></i>
                    <span>Contact</span>
                </a>
                <a href="#" onclick="openContactModal(event)" class="menu-item">
                    <i class="fas fa-envelope-open-text"></i>
                    <span>Trimite mesaj</span>
                </a>
            </nav>
        </div>
    </div>
    


    <!-- 3. HERO SECTION (Acasă) -->
    <section id="acasa" class="relative pt-48 pb-20 lg:pt-56 lg:pb-32 min-h-screen flex items-center justify-center text-center px-4 overflow-hidden">
        <div class="max-w-4xl mx-auto cinematic-fade-in space-y-10" id="hero-portal">
            <div class="space-y-6">
                <h1 id="hero-title" class="text-5xl md:text-7xl lg:text-8xl font-extrabold leading-tight tracking-tighter bg-clip-text text-transparent bg-gradient-to-r from-purple-400 to-cyan-400 animated-visible" style="transition-delay: 0.2s;">
                    Site-uri care spun<br class="sm:hidden"> povestea ta
                </h1>
                <div class="portal-description text-xl md:text-2xl text-gray-300 font-light animated-visible cinematic-fade-in" style="transition-delay: 0.35s;">
                    Construim pagini clare, cu explicații pe limba tuturor și fluxuri ușor de urmărit pentru echipe ocupate.
                    Îți arătăm ce primești pas cu pas, fără jargon și fără presiune.
                </div>
                <div class="portal-badges text-sm text-gray-300 animated-visible" style="transition-delay: 0.45s;">
                    <span class="portal-badge"><i class="fas fa-wand-magic-sparkles text-purple-300"></i> Navigare intuitivă</span>
                    <span class="portal-badge"><i class="fas fa-seedling text-green-300"></i> Texte prietenoase</span>
                    <span class="portal-badge"><i class="fas fa-heart text-rose-300"></i> Sprijin pas cu pas</span>
                </div>
            </div>
            <a href="#" onclick="openModal('packages-modal'); return false;" class="inline-block cinematic-scale-in animated-visible" style="transition-delay: 0.6s;">
                <button class="font-bold py-4 px-12 rounded-lg text-lg text-white transition duration-300 transform hover:scale-[1.03] shadow-lg shadow-purple-500/50"
                        style="background: linear-gradient(90deg, var(--color-primary) 0%, var(--color-secondary) 100%);">
                    Află ce include fiecare plan <i class="fas fa-circle-info ml-2"></i>
                </button>
            </a>
        </div>
    </section>

    <!-- 4. CONFIGURATOR INTERACTIV -->
    <section id="configurator" class="py-20 px-4">
        <div class="container mx-auto">
            <div id="configurator-section" class="p-8 md:p-12 lg:p-16">
                <div class="flex flex-col lg:flex-row lg:items-center lg:justify-between gap-8 mb-12">
                    <div>
                        <p class="uppercase tracking-[0.35em] text-xs text-cyan-300 mb-4">Configurator prietenos</p>
                        <h2 class="text-3xl md:text-4xl lg:text-5xl font-extrabold text-white leading-tight">Alege formula potrivită pentru tine</h2>
                        <p class="text-gray-300 mt-4 max-w-2xl">Spune-ne în câțiva pași ce ai nevoie, iar noi îți pregătim o propunere clară, cu buget orientativ și idei ușor de urmărit.</p>
                    </div>
                    <div class="text-right">
                        <p class="text-sm text-gray-400 mb-2">Progres configurator</p>
                        <div class="progress-track">
                            <div class="progress-value" id="configurator-progress"></div>
                        </div>
                        <p class="text-xs text-gray-500 mt-2"><span id="configurator-progress-label">0</span>% completat</p>
                    </div>
                </div>

                <div class="configurator-grid">
                    <div class="configurator-panel">
                        <div class="configurator-step" data-step="1">
                            <div class="flex items-center justify-between mb-4">
                                <h3 class="text-xl font-semibold text-white">1. Ce obiectiv urmărești?</h3>
                                <div class="flex items-center gap-3">
                                    <button type="button" class="text-sm text-cyan-300 hover:text-cyan-100 transition" onclick="openModal('packages-modal'); return false;">
                                        <i class="fas fa-circle-info mr-1"></i> vezi ce include fiecare plan
                                    </button>
                                    <span class="mission-status locked" id="status-step-1"><i class="fas fa-lock"></i> selectează</span>
                                </div>
                            </div>
                            <div class="choice-grid" id="goal-choices">
                                <button type="button" class="choice-tile" data-goal="starter">
                                    <span class="text-purple-300 text-sm">Starter</span>
                                    <p class="text-lg font-semibold text-white">Lansare rapidă</p>
                                    <p class="text-sm text-gray-400">Website de prezentare cu o pagină</p>
                                </button>
                                <button type="button" class="choice-tile" data-goal="pro">
                                    <span class="text-cyan-300 text-sm">Pro</span>
                                    <p class="text-lg font-semibold text-white">Extindere conținut</p>
                                    <p class="text-sm text-gray-400">Mai multe pagini și integrare avansată</p>
                                </button>
                                <button type="button" class="choice-tile" data-goal="studio">
                                    <span class="text-amber-300 text-sm">Studio</span>
                                    <p class="text-lg font-semibold text-white">Proiect personalizat</p>
                                    <p class="text-sm text-gray-400">Funcționalități custom și integrări</p>
                                </button>
                            </div>
                        </div>

                        <div class="configurator-step" data-step="2">
                            <div class="flex items-center justify-between mb-4">
                                <h3 class="text-xl font-semibold text-white">2. Ce părți are site-ul tău?</h3>
                                <span class="mission-status locked" id="status-step-2"><i class="fas fa-lock"></i> configurează</span>
                            </div>
                            <p class="text-sm text-gray-400 mb-3">Bifează zonele pe care le dorești gata din prima zi.</p>
                            <div class="structure-selector" id="structure-choices">
                                <button type="button" class="structure-chip" data-structure="essentials">
                                    <span>Pagini principale</span>
                                    <p>Acasă, despre, servicii/soluții și contact pregătite cap-coadă.</p>
                                </button>
                                <button type="button" class="structure-chip" data-structure="portfolio">
                                    <span>Studii de caz</span>
                                    <p>Galerie cu proiecte, testimoniale și rezultate povestite simplu.</p>
                                </button>
                                <button type="button" class="structure-chip" data-structure="blog">
                                    <span>Resurse & articole</span>
                                    <p>Secțiune de noutăți cu categorii, autor și formulare de abonare.</p>
                                </button>
                                <button type="button" class="structure-chip" data-structure="booking">
                                    <span>Programări & formulare</span>
                                    <p>Calendar, integrare cu email și notificări clare pentru echipă.</p>
                                </button>
                                <button type="button" class="structure-chip" data-structure="shop">
                                    <span>Produse digitale</span>
                                    <p>Listare cursuri sau e-book-uri cu plată rapidă și livrare automată.</p>
                                </button>
                            </div>
                        </div>

                        <div class="configurator-step" data-step="3">
                            <div class="flex items-center justify-between mb-4">
                                <h3 class="text-xl font-semibold text-white">3. Ce ton dorești pentru prezentare?</h3>
                                <span class="mission-status locked" id="status-step-3"><i class="fas fa-lock"></i> alege</span>
                            </div>
                            <div class="mood-selector" id="vibe-choices">
                                <button class="mood-chip" data-vibe="playful">Îndrăzneț & prietenos</button>
                                <button class="mood-chip" data-vibe="minimal">Minimal & clar</button>
                                <button class="mood-chip" data-vibe="premium">Premium & elegant</button>
                                <button class="mood-chip" data-vibe="tech">Tehnic & modern</button>
                            </div>
                        </div>

                        <div class="configurator-step" data-step="4">
                            <div class="flex items-center justify-between mb-4">
                                <h3 class="text-xl font-semibold text-white">4. Selectează opțiuni suplimentare</h3>
                                <span class="mission-status locked" id="status-step-4"><i class="fas fa-lock"></i> selectiv</span>
                            </div>
                            <p class="text-sm text-gray-400 mb-3">Adaugă elemente care îți fac munca mai ușoară.</p>
                            <div class="choice-grid" id="extra-choices">
                                <button type="button" class="choice-tile" data-extra="brand-kit">
                                    <p class="text-lg font-semibold text-white">Brand Kit</p>
                                    <p class="text-sm text-gray-400">Logo set, paletă, ghid de utilizare</p>
                                </button>
                                <button type="button" class="choice-tile" data-extra="content-sprint">
                                    <p class="text-lg font-semibold text-white">Atelier de conținut</p>
                                    <p class="text-sm text-gray-400">Texte și structură de pagină</p>
                                </button>
                                <button type="button" class="choice-tile" data-extra="automation">
                                    <p class="text-lg font-semibold text-white">Integrare automatizări</p>
                                    <p class="text-sm text-gray-400">Conectori și fluxuri personalizate</p>
                                </button>
                                <button type="button" class="choice-tile" data-extra="audio-id">
                                    <p class="text-lg font-semibold text-white">Identitate audio</p>
                                    <p class="text-sm text-gray-400">Sound logo și elemente sonore</p>
                                </button>
                            </div>
                        </div>
                    </div>

                    <aside class="configurator-summary" aria-live="polite">
                        <div>
                            <p class="text-sm uppercase tracking-[0.35em] text-purple-300">Propunerea portalului</p>
                            <h3 class="text-2xl font-bold text-white mt-2" id="summary-title">Alege un obiectiv pentru a începe</h3>
                            <p class="text-gray-300 mt-3" id="summary-description">Completează pașii portalului pentru a primi o recomandare personalizată și un buget orientativ.</p>
                        </div>

                        <div>
                            <div class="flex items-center justify-between">
                                <span class="text-sm text-gray-400">Plan recomandat</span>
                                <span class="font-semibold text-cyan-300" id="summary-package">--</span>
                            </div>
                            <div class="flex items-center justify-between mt-2">
                                <span class="text-sm text-gray-400">Investiție orientativă</span>
                                <span class="font-semibold text-emerald-300" id="summary-budget">--</span>
                            </div>
                            <div class="flex items-center justify-between mt-2">
                                <span class="text-sm text-gray-400">Structură estimată</span>
                                <span class="font-semibold text-amber-200" id="summary-difficulty">--</span>
                            </div>
                        </div>

                        <div>
                            <p class="text-sm text-gray-400 mb-2">Elemente recomandate</p>
                            <div class="summary-badges" id="summary-badges"></div>
                        </div>

                        <div>
                            <p class="text-sm text-gray-400 mb-2">Notițe generate</p>
                            <div class="achievement-feed" id="summary-feed">
                                <div class="achievement-item">
                                    <i class="fas fa-satellite-dish"></i>
                                    <div>
                                        <p class="text-sm text-gray-200">Selectează opțiunile pentru a primi o recomandare personalizată.</p>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <a href="#contact" onclick="openContactModal(event)" class="inline-flex items-center justify-center gap-2 font-semibold text-white py-3 px-6 rounded-xl transition transform hover:scale-[1.02] shadow-lg" style="background: linear-gradient(90deg, rgba(139,92,246,0.95), rgba(6,182,212,0.95));">
                            Programează o discuție <i class="fas fa-calendar-check"></i>
                        </a>
                    </aside>
                </div>
            </div>
        </div>
    </section>

    <!-- 5. GHID CONFIGURATOR -->
    <section id="ghid-planuri" class="py-20 px-4 bg-slate-900/40">
        <div class="container mx-auto">
            <div class="max-w-4xl mx-auto text-center mb-12 space-y-4">
                <p class="uppercase tracking-[0.35em] text-xs text-purple-300">Ai nevoie de orientare?</p>
                <h2 class="text-3xl md:text-4xl font-extrabold text-white">Combinații recomandate în configurator</h2>
                <p class="text-gray-300">Mai jos găsești trei scenarii reale care arată cum folosesc clienții configuratorul. Poți porni de la ele și apoi ajustezi după nevoile tale.</p>
            </div>
            <div class="grid gap-8 md:grid-cols-3">
                <article class="bg-slate-900/70 border border-slate-700 rounded-2xl p-6 flex flex-col gap-4">
                    <div class="flex items-center gap-3">
                        <span class="px-3 py-1 text-xs font-semibold rounded-full bg-cyan-500/20 text-cyan-200">Starter</span>
                        <span class="text-sm text-gray-400">Lansare brand personal</span>
                    </div>
                    <h3 class="text-xl font-semibold text-white">Consultant independent</h3>
                    <ul class="space-y-2 text-sm text-gray-300">
                        <li><i class="fas fa-layer-group text-purple-300 mr-2"></i>Pagini principale + studii de caz scurte</li>
                        <li><i class="fas fa-envelope-open-text text-purple-300 mr-2"></i>Formular simplu cu răspuns automat</li>
                        <li><i class="fas fa-pen-nib text-purple-300 mr-2"></i>Extra recomandat: Atelier de conținut pentru tonul potrivit</li>
                    </ul>
                    <p class="text-xs text-gray-400">Investiție orientativă: de la 899 €</p>
                </article>
                <article class="bg-slate-900/70 border border-slate-700 rounded-2xl p-6 flex flex-col gap-4">
                    <div class="flex items-center gap-3">
                        <span class="px-3 py-1 text-xs font-semibold rounded-full bg-purple-500/20 text-purple-200">Pro</span>
                        <span class="text-sm text-gray-400">Scalare echipă</span>
                    </div>
                    <h3 class="text-xl font-semibold text-white">Agenție de servicii</h3>
                    <ul class="space-y-2 text-sm text-gray-300">
                        <li><i class="fas fa-layer-group text-purple-300 mr-2"></i>Pagini principale + portofoliu extins + resurse</li>
                        <li><i class="fas fa-calendar-check text-purple-300 mr-2"></i>Programări & formulare pentru lead-uri calde</li>
                        <li><i class="fas fa-bolt text-purple-300 mr-2"></i>Extra recomandat: Automatizări pentru trimitere briefing</li>
                    </ul>
                    <p class="text-xs text-gray-400">Investiție orientativă: de la 1899 €</p>
                </article>
                <article class="bg-slate-900/70 border border-slate-700 rounded-2xl p-6 flex flex-col gap-4">
                    <div class="flex items-center gap-3">
                        <span class="px-3 py-1 text-xs font-semibold rounded-full bg-amber-500/20 text-amber-200">Studio</span>
                        <span class="text-sm text-gray-400">Produs digital</span>
                    </div>
                    <h3 class="text-xl font-semibold text-white">Platformă educațională</h3>
                    <ul class="space-y-2 text-sm text-gray-300">
                        <li><i class="fas fa-layer-group text-purple-300 mr-2"></i>Pagini principale + resurse + magazin digital</li>
                        <li><i class="fas fa-users text-purple-300 mr-2"></i>Flux de onboarding și zone private</li>
                        <li><i class="fas fa-swatchbook text-purple-300 mr-2"></i>Extra recomandat: Brand Kit complet</li>
                    </ul>
                    <p class="text-xs text-gray-400">Investiție orientativă: de la 2849 €</p>
                </article>
            </div>
        </div>
    </section>

    <!-- 6. PROIECTE FINALIZATE (Carusel "Wow") -->
    <section id="proiecte" class="py-20 lg:py-32 px-4 bg-slate-900/50">
        <div class="container mx-auto">
            <h2 class="text-4xl md:text-5xl font-extrabold text-center mb-16 cinematic-fade-in">
                <span class="text-purple-400">Portofoliu</span> de Proiecte
            </h2>
            
            <div class="story-layout">
                <div class="space-y-6">
                    <div class="relative">
                        <div id="projects-carousel" class="relative overflow-hidden rounded-2xl shadow-2xl h-80 md:h-96">
                            <!-- Proiect 1 -->
                            <a href="https://dr-lazuran.ro" target="_blank" class="carousel-item absolute inset-0 transition-opacity duration-1000 ease-in-out opacity-0 block" data-project="dr-lazuran">
                                <div class="h-full w-full bg-cover bg-center flex items-end p-8 card-glow-effect"
                                     style="background-image: url('https://raw.githubusercontent.com/MioritaStudio/Portofoliu/main/LogoDr.png');">
                                    <div class="bg-black/70 p-4 rounded-lg cinematic-fade-in animated-visible">
                                        <h3 class="text-3xl font-bold text-white">Dr. Lazuran</h3>
                                        <p class="text-gray-300">Website cald și luminos pentru un cabinet stomatologic, gândit să transmită încredere.</p>
                                    </div>
                                </div>
                            </a>
                            <!-- Proiect 2 -->
                            <a href="https://workmatch.ro" target="_blank" class="carousel-item absolute inset-0 transition-opacity duration-1000 ease-in-out opacity-0 block" data-project="workmatch">
                                <div class="h-full w-full bg-cover bg-center flex items-end p-8 card-glow-effect"
                                     style="background-image: url('https://placehold.co/1200x600/059669/ffffff?text=Proiect+WorkMatch');">
                                    <div class="bg-black/70 p-4 rounded-lg cinematic-fade-in animated-visible">
                                        <h3 class="text-3xl font-bold text-white">WorkMatch</h3>
                                        <p class="text-gray-300">Spațiu online unde companiile și candidații se întâlnesc ușor, cu o experiență fluentă.</p>
                                    </div>
                                </div>
                            </a>
                            <!-- Proiect 3 -->
                            <a href="https://raropem.ro" target="_blank" class="carousel-item absolute inset-0 transition-opacity duration-1000 ease-in-out opacity-0 block" data-project="raropem">
                                <div class="h-full w-full bg-cover bg-center flex items-end p-8 card-glow-effect"
                                     style="background-image: url('https://placehold.co/1200x600/3b82f6/ffffff?text=Proiect+Raropem');">
                                    <div class="bg-black/70 p-4 rounded-lg cinematic-fade-in animated-visible">
                                        <h3 class="text-3xl font-bold text-white">Raropem</h3>
                                        <p class="text-gray-300">Catalog digital prietenos pentru piese de transmisie și diferențiale.</p>
                                    </div>
                                </div>
                            </a>
                            <!-- Proiect Special: Proiectul Tău -->
                            <div class="carousel-item absolute inset-0 transition-opacity duration-1000 ease-in-out opacity-0" data-project="your-project">
                                 <div class="h-full w-full bg-gradient-to-br from-purple-800 to-cyan-800 flex flex-col items-center justify-center text-center p-8">
                                    <div class="cinematic-scale-in animated-visible">
                                        <i class="fas fa-handshake-angle text-6xl text-white mb-4"></i>
                                        <h3 class="text-4xl font-extrabold text-white mb-4">Proiectul Tău</h3>
                                        <p class="text-xl text-gray-200 mb-6">Explorează posibilitățile și transformă-ți ideea în următorul nostru studiu de caz de succes.</p>
                                        <button onclick="openContactModal(event)" class="inline-block cinematic-fade-in animated-visible font-bold py-3 px-8 rounded-lg text-white transition duration-300 transform hover:scale-105 shadow-xl bg-white/20 hover:bg-white/30">
                                            Începe Colaborarea <i class="fas fa-right-long ml-2"></i>
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <button id="carousel-prev" class="absolute top-1/2 left-4 transform -translate-y-1/2 p-3 bg-black/50 hover:bg-black/70 text-white rounded-full z-10 transition duration-300">
                            <i class="fas fa-chevron-left"></i>
                        </button>
                        <button id="carousel-next" class="absolute top-1/2 right-4 transform -translate-y-1/2 p-3 bg-black/50 hover:bg-black/70 text-white rounded-full z-10 transition duration-300">
                            <i class="fas fa-chevron-right"></i>
                        </button>
                    </div>
                    <div id="carousel-indicators" class="mt-4 flex justify-center space-x-2"></div>
                    <div class="story-chapter" id="story-chapter">
                        Selectează un proiect pentru a descoperi povestea din culise și impactul măsurabil.
                    </div>
                    <div class="story-badges" id="story-badges"></div>
                </div>

                <aside class="achievement-panel" aria-live="polite">
                    <div>
                        <p class="text-xs uppercase tracking-[0.35em] text-purple-300">Indicatori de proiect</p>
                        <h3 class="text-2xl font-bold text-white mt-2" id="tracker-title">Alege un proiect</h3>
                        <p class="text-sm text-gray-400 mt-2" id="tracker-subtitle">Caruselul deblochează detalii despre industrie și rezultate la fiecare slide.</p>
                    </div>
                    <div class="tracker-grid">
                        <div class="tracker-card">
                            <h4>Industrie</h4>
                            <p class="text-purple-200" id="tracker-industry">—</p>
                        </div>
                        <div class="tracker-card">
                            <h4>Impact</h4>
                            <p class="text-emerald-200" id="tracker-impact">—</p>
                        </div>
                        <div class="tracker-card">
                            <h4>Element cheie</h4>
                            <p class="text-amber-200" id="tracker-badge">—</p>
                        </div>
                    </div>
                    <div class="achievement-feed" id="tracker-feed">
                        <div class="achievement-item">
                            <i class="fas fa-compass"></i>
                            <div>
                                <p class="text-sm text-gray-200">Glisează pentru a vedea cum arată rezultatele în industrii diferite.</p>
                            </div>
                        </div>
                    </div>
                </aside>
            </div>
        </div>
    </section>

    <!-- 6.1 ÎNTREBĂRI FRECVENTE -->
    <section id="intrebari" class="py-20 px-4">
        <div class="container mx-auto max-w-5xl">
            <div class="text-center max-w-3xl mx-auto mb-12 space-y-4">
                <p class="uppercase tracking-[0.35em] text-xs text-cyan-300">Întrebări frecvente</p>
                <h2 class="text-3xl md:text-4xl font-extrabold text-white">Răspunsuri pe înțelesul tuturor</h2>
                <p class="text-gray-300">Dacă nu ești obișnuit cu proiectele digitale, secțiunea de mai jos te ajută să clarifici ce se întâmplă înainte, în timpul și după configurator.</p>
            </div>
            <div class="grid gap-6 md:grid-cols-2">
                <details class="faq-item bg-slate-900/60 border border-slate-700 rounded-2xl p-6 group open:bg-slate-900/80">
                    <summary class="text-lg font-semibold text-white flex items-center justify-between cursor-pointer">
                        <span><i class="fas fa-circle-question text-purple-300 mr-2"></i>Ce se întâmplă după ce trimit configuratorul?</span>
                        <i class="fas fa-chevron-down text-gray-400 group-open:rotate-180 transition"></i>
                    </summary>
                    <p class="text-sm text-gray-300 mt-3">Primești un e-mail cu rezumatul complet și propunerea orientativă. În maximum 24 de ore lucrătoare revenim cu un mesaj personalizat și stabilim o discuție de 30 de minute în care lămurim toate detaliile.</p>
                </details>
                <details class="faq-item bg-slate-900/60 border border-slate-700 rounded-2xl p-6 group open:bg-slate-900/80">
                    <summary class="text-lg font-semibold text-white flex items-center justify-between cursor-pointer">
                        <span><i class="fas fa-circle-question text-purple-300 mr-2"></i>Pot modifica alegerile după ce trimit formularul?</span>
                        <i class="fas fa-chevron-down text-gray-400 group-open:rotate-180 transition"></i>
                    </summary>
                    <p class="text-sm text-gray-300 mt-3">Da, configuratorul este un punct de pornire. La call-ul de clarificare revizuim împreună opțiunile și actualizăm estimarea, astfel încât să rămâi în control total asupra bugetului.</p>
                </details>
                <details class="faq-item bg-slate-900/60 border border-slate-700 rounded-2xl p-6 group open:bg-slate-900/80">
                    <summary class="text-lg font-semibold text-white flex items-center justify-between cursor-pointer">
                        <span><i class="fas fa-circle-question text-purple-300 mr-2"></i>Nu am conținut pregătit. Este o problemă?</span>
                        <i class="fas fa-chevron-down text-gray-400 group-open:rotate-180 transition"></i>
                    </summary>
                    <p class="text-sm text-gray-300 mt-3">Nu. Alegi opțiunea „Atelier de conținut” la extra și lucrăm împreună la mesaje, structuri și call-to-action-uri. Îți oferim și un ghid de tone of voice pentru post-lansare.</p>
                </details>
                <details class="faq-item bg-slate-900/60 border border-slate-700 rounded-2xl p-6 group open:bg-slate-900/80">
                    <summary class="text-lg font-semibold text-white flex items-center justify-between cursor-pointer">
                        <span><i class="fas fa-circle-question text-purple-300 mr-2"></i>Ce garanții am că proiectul rămâne pe linia de plutire?</span>
                        <i class="fas fa-chevron-down text-gray-400 group-open:rotate-180 transition"></i>
                    </summary>
                    <p class="text-sm text-gray-300 mt-3">Folosim planificare în sprinturi scurte, cu materiale livrate la finalul fiecărei etape pentru feedback rapid. În plus, oferim suport tehnic gratuit 30 de zile după lansare, astfel încât să testezi totul fără griji.</p>
                </details>
            </div>
        </div>
    </section>

    <!-- 7. DESPRE & CONTACT -->
    <section id="despre" class="py-20 lg:py-32 px-4">
        <div class="container mx-auto max-w-6xl">
             <h2 class="text-4xl md:text-5xl font-extrabold text-center mb-16 cinematic-fade-in">
                <i class="fas fa-building text-purple-400 mr-3"></i> Despre <span class="text-cyan-400">Miorița Studio</span>
            </h2>

            <div class="grid md:grid-cols-2 gap-12 max-w-5xl mx-auto">
                <div class="cinematic-fade-in">
                    <h3 class="text-2xl font-bold mb-4 text-white text-center">Viziunea Noastră</h3>
                    <p class="text-gray-400 leading-relaxed mb-4 text-center">
                        Miorița Studio s-a născut din pasiunea pentru designul digital de excepție. Credem că fiecare afacere merită o prezență online care nu doar funcționează, ci și inspiră. Ne concentrăm pe soluții personalizate, ușor de administrat și scalabile, eliminând barierele tehnice pentru clienții noștri.
                    </p>
                    <p class="text-gray-400 leading-relaxed text-center">
                        Procesul nostru creativ este transparent și colaborativ. Începem cu o cafea (virtuală) și o discuție despre obiectivele tale, transformând apoi ideile în concepte vizuale și, în final, în aplicații web rapide și sigure.
                    </p>
                    <div class="mt-6 p-4 bg-purple-900/30 rounded-lg border border-purple-700/50">
                        <p class="text-lg font-semibold text-purple-300 text-center">
                            🏢 Despre Miorița Studio
                        </p>
                        <p class="text-sm text-gray-300 mt-2 text-center">
                            Miorița Studio este un freelancer independent, nu o firmă înregistrată.
                        </p>
                    </div>
                </div>
                
                <div id="contact" class="cinematic-fade-in" style="transition-delay: 0.2s;">
                    <h3 class="text-2xl font-bold mb-4 text-white text-center">Contact Direct</h3>
                    <div class="space-y-4">
                        <div class="flex flex-col items-center p-3 bg-slate-800/60 rounded-lg shadow-md transition duration-300 hover:shadow-cyan-500/20">
                            <i class="fas fa-envelope text-cyan-400 text-2xl mr-4"></i>
                            <div>
                                <p class="text-gray-400 text-sm">Email:</p>
                                <a href="mailto:ScontactM1@gmail.com" class="text-white font-medium hover:text-cyan-300 transition">ScontactM1@gmail.com</a>
                            </div>
                        </div>
                        <div class="flex flex-col items-center p-3 bg-slate-800/60 rounded-lg shadow-md transition duration-300 hover:shadow-purple-500/20">
                            <i class="fab fa-whatsapp text-green-400 text-2xl mr-4"></i>
                            <div>
                                <p class="text-gray-400 text-sm">WhatsApp (Răspuns Rapid):</p>
                                <a href="https://wa.me/40749566723" target="_blank" class="text-white font-medium hover:text-green-300 transition">0749566723</a>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Butonul care deschide modalul de contact -->
                    <a href="#" onclick="openContactModal(event)" class="mt-8 inline-block w-full">
                        <button class="w-full py-3 px-6 rounded-lg font-semibold text-white transition duration-300 transform hover:scale-[1.03] shadow-lg shadow-purple-500/30"
                                style="background: var(--color-primary);">
                            <i class="fas fa-handshake mr-2"></i> Începe Discuția
                        </button>
                    </a>
                </div>
            </div>
        </div>
    </section>

    <!-- 8. FOOTER -->
    <footer class="bg-slate-900/50 py-12 border-t border-slate-700/50">
        <div class="container mx-auto px-4 text-center text-gray-400">
            <div class="flex flex-col md:flex-row justify-center space-y-4 md:space-y-0 md:space-x-8 mb-6">
                <a href="#acasa" class="hover:text-white transition duration-300">Acasă</a>
                <a href="#proiecte" class="hover:text-white transition duration-300">Proiecte</a>
                <a href="#despre" class="hover:text-white transition duration-300">Despre</a>
                <a href="#contact" onclick="openContactModal(event)" class="hover:text-white transition duration-300 cursor-pointer">Contact</a>
                <!-- Linkul Legal & GDPR deschide modalul -->
                <a href="#" onclick="openLegalModal(event)" class="text-cyan-400 hover:text-white transition duration-300">Legal & GDPR</a>
            </div>
            <p class="mb-2">&copy; 2025 Miorița Studio. Toate drepturile rezervate.</p>
            
            <!-- LOGO ACTUALIZAT (Imagine cu link și text) -->
            <p class="text-sm flex justify-center items-center">
                Creat cu viziune și pasiune de 
                <a href="#acasa" class="inline-block ml-1 transition transform hover:scale-105">
                    <img src="https://raw.githubusercontent.com/MioritaStudio/Portofoliu/main/logo.png" 
                         alt="Miorița Studio Logo" 
                         class="footer-logo-img"
                         width="20"
                         height="20"
                         loading="lazy"
                         decoding="async"
                         onerror="this.onerror=null; this.src='https://placehold.co/20x20/8B5CF6/ffffff?text=MS';" />
                </a>
            </p>

        </div>
    </footer>

</main>

<!-- Modal Contact Formular -->
<div id="contact-form-modal" class="modal-container hidden" aria-modal="true" role="dialog">
    <div id="modal-content-container-contact" class="modal-content relative w-full max-w-lg bg-slate-800 rounded-2xl shadow-2xl p-6 md:p-10 transform scale-90 opacity-0 transition-all duration-300">
        <!-- Buton Închidere -->
        <button class="absolute top-4 right-4 text-gray-400 hover:text-white transition duration-300" onclick="closeModal('contact-form-modal')">
            <i class="fas fa-times text-2xl"></i>
        </button>
        
        <div class="text-3xl font-bold mb-4 text-purple-400 text-center">Trimite-ne Viziunea Ta</div>
        <p class="text-gray-300 text-center mb-6">Completează formularul și te vom contacta în cel mai scurt timp.</p>
        
        <form id="project-contact-form" action="https://formspree.io/f/xldpkene" method="POST">
          <div class="bg-slate-700/40 border border-slate-600/60 rounded-xl p-4 sm:p-5 mb-6 space-y-3" id="portal-summary-box">
            <div class="flex items-center justify-between gap-3">
              <h4 class="text-white font-semibold text-lg">Rezumat configurator</h4>
              <span class="text-xs uppercase tracking-wide text-gray-400" id="portal-summary-status">Completează portalul pentru a genera un rezumat aici.</span>
            </div>
            <dl class="grid grid-cols-1 sm:grid-cols-2 gap-3 text-sm">
              <div>
                <dt class="text-gray-400 uppercase tracking-wide text-xs">Obiectiv</dt>
                <dd class="text-gray-100 font-medium" id="portal-summary-goal">—</dd>
              </div>
              <div>
                <dt class="text-gray-400 uppercase tracking-wide text-xs">Pachet</dt>
                <dd class="text-gray-100 font-medium" id="portal-summary-package">—</dd>
              </div>
              <div>
                <dt class="text-gray-400 uppercase tracking-wide text-xs">Investiție</dt>
                <dd class="text-emerald-300 font-semibold" id="portal-summary-investment">—</dd>
              </div>
              <div>
                <dt class="text-gray-400 uppercase tracking-wide text-xs">Servicii extra</dt>
                <dd class="text-gray-100" id="portal-summary-extras">—</dd>
              </div>
            </dl>
            <p class="text-sm text-gray-300" id="portal-summary-text">Configurează portalul pentru a avea un rezumat gata de trimis.</p>
          </div>
          <div class="space-y-4">
            <div>
              <label for="form-name" class="block text-sm font-medium text-gray-400 mb-1">Numele Tău / Companie</label>
              <input type="text" id="form-name" name="name" required class="w-full px-4 py-2 bg-slate-700/50 border border-slate-600 rounded-lg text-white focus:ring-cyan-500 focus:border-cyan-500">
            </div>
            <div>
              <label for="form-email" class="block text-sm font-medium text-gray-400 mb-1">Adresă Email</label>
              <input type="email" id="form-email" name="email" required class="w-full px-4 py-2 bg-slate-700/50 border border-slate-600 rounded-lg text-white focus:ring-cyan-500 focus:border-cyan-500">
            </div>
            <div>
              <label for="form-project" class="block text-sm font-medium text-gray-400 mb-1">Despre ce proiect este vorba?</label>
              <textarea id="form-project" name="message" rows="4" required class="w-full px-4 py-2 bg-slate-700/50 border border-slate-600 rounded-lg text-white focus:ring-cyan-500 focus:border-cyan-500"></textarea>
            </div>
            <div>
              <label class="block text-sm font-medium text-gray-400 mb-2">Ce vibe simți pentru colaborare?</label>
              <div class="mood-selector" id="contact-mood-selector">
                <button type="button" class="mood-chip" data-mood="îndrăzneț">Îndrăzneț</button>
                <button type="button" class="mood-chip" data-mood="calm">Calm & strategic</button>
                <button type="button" class="mood-chip" data-mood="premium">Premium & rafinat</button>
                <button type="button" class="mood-chip" data-mood="misterios">Experimental & misterios</button>
              </div>
              <input type="hidden" name="project_mood" id="contact-mood-input">
            </div>
          </div>

          <div class="chatbot-window" id="contact-chatbot" role="status" aria-live="polite">
              <div class="chatbot-message">
                  <div class="chatbot-avatar">🐺</div>
                  <div>
                      <p class="text-sm text-gray-200" id="chatbot-message-text">Salut! Sunt Miorița. Spune-mi în ce stadiu este ideea ta și îți pregătesc un scurt rezumat pentru echipă.</p>
                      <div class="chatbot-actions" id="chatbot-actions">
                          <button type="button" class="chatbot-action-btn" data-response="start">Abia schițată</button>
                          <button type="button" class="chatbot-action-btn" data-response="in-progress">În lucru</button>
                          <button type="button" class="chatbot-action-btn" data-response="live">Deja live, vreau upgrade</button>
                      </div>
                      <div class="chatbot-summary hidden" id="chatbot-summary"></div>
                  </div>
              </div>
          </div>
          <input type="hidden" name="chatbot_story" id="chatbot-input">
          <input type="hidden" name="portal_package" id="portal-package-input">
          <input type="hidden" name="portal_investment" id="portal-investment-input">
          <input type="hidden" name="portal_goal" id="portal-goal-input">
          <input type="hidden" name="portal_vibe" id="portal-vibe-input">
          <input type="hidden" name="portal_extras" id="portal-extras-input">
          <input type="hidden" name="portal_notes" id="portal-notes-input">
                    <div class="mt-6 text-center">
                        <button type="submit" class="font-bold py-3 px-8 rounded-lg text-white transition duration-300 transform hover:scale-[1.03] shadow-lg w-full" style="background: linear-gradient(90deg, #8B5CF6 0%, #06B6D4 100%);">
                            Trimite Solicitarea <i class="fas fa-envelope-open-text ml-2"></i>
                        </button>
                    </div>
                    <div id="form-confirm-modal" style="display:none;position:fixed;top:0;left:0;width:100vw;height:100vh;background:rgba(0,0,0,0.7);z-index:9999;align-items:center;justify-content:center;">
                        <div style="background:#1e293b;padding:2rem 2.5rem;border-radius:1rem;box-shadow:0 4px 32px #000;text-align:center;max-width:90vw;">
                            <h3 style="color:#8B5CF6;font-size:1.5rem;margin-bottom:1rem;">Mesaj trimis cu succes!</h3>
                            <p style="color:#fff;margin-bottom:2rem;">Îți mulțumim pentru solicitare.<br>Te vom contacta în curând.</p>
                            <button id="confirm-ok-btn" style="background:linear-gradient(90deg,#8B5CF6,#06B6D4);color:#fff;padding:0.75rem 2rem;border:none;border-radius:0.5rem;font-weight:bold;cursor:pointer;">OK</button>
                        </div>
                    </div>
        </form>
    </div>
</div>

<!-- Modal Detalii Pachete -->
<div id="packages-modal" class="modal-container hidden" aria-modal="true" role="dialog">
    <div class="modal-content relative w-full max-w-4xl bg-slate-800 rounded-2xl shadow-2xl p-6 md:p-12 transform scale-90 opacity-0 transition-all duration-300">
        <button class="absolute top-4 right-4 text-gray-400 hover:text-white transition duration-300" onclick="closeModal('packages-modal')">
            <i class="fas fa-times text-2xl"></i>
        </button>
        <div class="space-y-6">
            <div>
                <h3 class="text-3xl font-extrabold text-white mb-2">Ce conține fiecare plan?</h3>
                <p class="text-gray-300">Am tradus pachetele în limbaj simplu, ca să vezi repede ce primești indiferent dacă alegi varianta de start sau un proiect complet personalizat.</p>
            </div>
            <div class="grid gap-6 md:grid-cols-3">
                <div class="bg-slate-900/60 border border-slate-700 rounded-2xl p-6 flex flex-col gap-4">
                    <div>
                        <span class="text-xs uppercase tracking-[0.35em] text-cyan-300">Starter</span>
                        <h4 class="text-xl font-semibold text-white mt-2">Pornire rapidă</h4>
                        <p class="text-sm text-gray-300 mt-2">Ideal când vrei un site de prezentare curat, cu toate informațiile esențiale puse în ordine.</p>
                    </div>
                    <ul class="space-y-2 text-sm text-gray-300">
                        <li><i class="fas fa-check text-emerald-300 mr-2"></i>Pagini principale structurate (acasă, despre, servicii, contact)</li>
                        <li><i class="fas fa-check text-emerald-300 mr-2"></i>Design responsive și mesaje clare</li>
                        <li><i class="fas fa-check text-emerald-300 mr-2"></i>Formular de contact și hartă integrate</li>
                    </ul>
                    <p class="text-xs text-gray-400">Se pot adăuga oricând secțiuni în plus din configurator.</p>
                </div>
                <div class="bg-slate-900/80 border border-purple-600/40 rounded-2xl p-6 flex flex-col gap-4">
                    <div>
                        <span class="text-xs uppercase tracking-[0.35em] text-purple-300">Pro</span>
                        <h4 class="text-xl font-semibold text-white mt-2">Creștere susținută</h4>
                        <p class="text-sm text-gray-300 mt-2">Recomandat când ai mai multe servicii, echipă extinsă sau vrei să explici procese diferite.</p>
                    </div>
                    <ul class="space-y-2 text-sm text-gray-300">
                        <li><i class="fas fa-check text-emerald-300 mr-2"></i>Pagini dedicate pe verticale de business</li>
                        <li><i class="fas fa-check text-emerald-300 mr-2"></i>Studii de caz sau articole pentru educarea clienților</li>
                        <li><i class="fas fa-check text-emerald-300 mr-2"></i>Integrare ușoară cu tool-urile curente</li>
                    </ul>
                    <p class="text-xs text-gray-400">Include suport în structurarea conținutului și sugestii de CTA.</p>
                </div>
                <div class="bg-slate-900/60 border border-amber-500/40 rounded-2xl p-6 flex flex-col gap-4">
                    <div>
                        <span class="text-xs uppercase tracking-[0.35em] text-amber-300">Studio</span>
                        <h4 class="text-xl font-semibold text-white mt-2">Platformă personalizată</h4>
                        <p class="text-sm text-gray-300 mt-2">Pentru produse digitale, programe complexe sau când ai nevoie de fluxuri speciale.</p>
                    </div>
                    <ul class="space-y-2 text-sm text-gray-300">
                        <li><i class="fas fa-check text-emerald-300 mr-2"></i>Experiențe custom (ex. membership, cursuri, onboarding)</li>
                        <li><i class="fas fa-check text-emerald-300 mr-2"></i>Automatizări și conectori tehnici personalizați</li>
                        <li><i class="fas fa-check text-emerald-300 mr-2"></i>Workshops de UX și prototipare rapidă</li>
                    </ul>
                    <p class="text-xs text-gray-400">Include consultanță tehnică și sesiuni de testare cu echipa ta.</p>
                </div>
            </div>
            <div class="bg-slate-900/40 border border-slate-700/60 rounded-2xl p-6">
                <h4 class="text-lg font-semibold text-white mb-3">Cum alegi rapid?</h4>
                <ul class="grid gap-3 text-sm text-gray-300 md:grid-cols-3">
                    <li><i class="fas fa-rocket text-cyan-300 mr-2"></i> Ai nevoie de prezență online rapidă? Începe cu Starter și adaugă secțiuni doar când apar.</li>
                    <li><i class="fas fa-people-group text-cyan-300 mr-2"></i> Echipa ta lucrează deja la materiale? Pro îți dă loc să le organizezi și să le crești.</li>
                    <li><i class="fas fa-fire text-cyan-300 mr-2"></i> Ai produs digital sau procese complexe? Studio lasă loc pentru integrarea lor cap-coadă.</li>
                </ul>
            </div>
        </div>
    </div>
</div>

<!-- Modal Legal & GDPR -->
<div id="legal-modal" class="modal-container hidden" aria-modal="true" role="dialog">
    <div id="modal-content-container-legal" class="modal-content relative w-full max-w-4xl bg-slate-800 rounded-2xl shadow-2xl p-6 md:p-10 transform scale-90 opacity-0 transition-all duration-300">
        <!-- Buton Închidere (Fixat) -->
        <button class="absolute top-4 right-4 text-gray-400 hover:text-white transition duration-300" onclick="closeModal('legal-modal')">
            <i class="fas fa-times text-2xl"></i>
        </button>
        
        <h3 class="text-3xl font-extrabold text-white mb-8">
            <i class="fas fa-gavel text-cyan-400 mr-2"></i> Politici și Termeni Legali
        </h3>

        <div class="space-y-8 text-gray-400">
            <!-- Termeni și Condiții & Limitări de Răspundere -->
            <div>
                <h4 class="text-xl font-bold text-purple-400 mb-3">📝 Termeni și Condiții & ⚖️ Limitări de Răspundere</h4>
                <!-- CLASA break-words ESTE MENȚINUTĂ PENTRU A REPARA SCROLL-UL LATERAL -->
                <ul class="list-disc list-inside space-y-3 text-sm ml-4 break-words"> 
                    <li><span class="font-semibold text-white">✍️ Contractare:</span> Fiecare proiect începe cu un contract clar care definește obiectivele, livrabilele, termenele, costurile și responsabilitățile ambelor părți. Toate modificările neprevăzute se discută și se aprobă prin act adițional. Comunicarea clară pe parcursul proiectului este esențială.</li>
                    <li><span class="font-semibold text-white">💰 Plată:</span> Se solicită un avans de 50% la începerea proiectului, iar restul de 50% la finalizare, înainte de livrarea fișierelor finale. Modalitățile de plată sunt specificate în contract (transfer bancar, PayPal, card etc.). Plata la timp asigură respectarea termenelor stabilite.</li>
                    <li><span class="font-semibold text-white">🔄 Revizii:</span> Fiecare plan include un număr limitat de revizii (specificat în contract). Reviziile suplimentare sau modificările majore după aprobare pot fi oferite contra cost suplimentar. Feedback-ul clar și punctual ajută ca proiectul să fie finalizat rapid și eficient.</li>
                    <li><span class="font-semibold text-white">🎨 Drepturi de autor:</span> După plata integrală, clientul primește toate drepturile asupra codului, designului și materialelor livrate. Până la plata completă, drepturile rămân la furnizor. Acest lucru garantează protecția muncii creative și transparența proprietății.</li>
                    <li><span class="font-semibold text-white">🛠️ Suport post-lansare:</span> Oferim suport tehnic gratuit timp de 30 de zile de la lansarea proiectului pentru probleme legate de funcționalitate, bug-uri sau erori de afișare. Modificările de design sau adăugarea de funcționalități noi se pot oferi contra cost, la cerere.</li>
                    <li><span class="font-semibold text-white">⚠️ Garanție:</span> Nu oferim garanții privind rezultate de business (trafic, vânzări, conversii), deoarece acestea depind de factori externi precum marketing, concurență și comportamentul utilizatorilor. Garanția acoperă doar funcționarea corectă a codului și livrabilele convenite în contract.</li>
                    <li><span class="font-semibold text-white">🔒 Confidențialitate:</span> Toate informațiile, datele și materialele partajate de client rămân confidențiale și nu vor fi divulgate terților fără acordul explicit. Aceasta include datele sensibile, parolele și conținutul proprietar.</li>
                    <li><span class="font-semibold text-white">❌ Anularea proiectului:</span> Dacă clientul decide să oprească proiectul înainte de finalizare, plata pentru munca efectuată până în acel moment rămâne datorată conform contractului. Se recomandă comunicarea cât mai rapidă pentru a evita pierderi de timp și resurse.</li>
                    <li><span class="font-semibold text-white">⏰ Termene și întârzieri:</span> Termenele de livrare sunt orientative; întârzierile cauzate de livrări tardive de la client, schimbări de cerințe sau factori externi nu implică penalități. Recomandăm transmiterea tuturor materialelor și informațiilor necesare la timp pentru a respecta calendarul proiectului.</li>
                    <li><span class="font-semibold text-white">📝 Documentație:</span> La finalul proiectului, se poate oferi documentație sumară care explică structura site-ului, administrarea conținutului și recomandări pentru întreținere. Aceasta poate fi inclusă în contract sau ca extra opțiune.</li>
                    <li><span class="font-italic text-white">📝 *Nota:</span> Proiectele prezentate în portofoliu reflectă contribuția mea profesională și sunt afișate cu respectarea Legii nr. 8/1996 privind dreptul de autor și drepturile conexe. Toate mărcile, siglele și materialele aparțin proprietarilor lor legali. Menționarea proiectelor nu implică afiliere sau reprezentare actuală.</li>
                    
                </ul>
            </div>
            
            <!-- GDPR, Confidențialitate, Cookies -->
            <div class="mt-8">
                <h4 class="text-xl font-bold text-cyan-400 mb-3">🛡️ GDPR, Confidențialitate & Cookies</h4>
                <p class="text-sm">
                    Protejăm confidențialitatea datelor tale personale. Informațiile colectate sunt folosite exclusiv în scopul furnizării serviciilor noastre și nu sunt partajate cu terți fără consimțământul tău. Folosim măsuri de securitate adecvate pentru a proteja datele împotriva accesului neautorizat.
                </p>
            </div>
             
             <!-- Contact în modalul legal -->
            <div class="mt-8">
                <h4 class="text-xl font-bold text-cyan-400 mb-3">📧 Contact</h4>
                <p class="text-sm">
                    Pentru orice întrebări: ScontactM1@gmail.com sau WhatsApp: 0749566723
                </p>
            </div>
        </div>
    </div>
</div>


<!-- Floating Controls: Scroll to Top & AI Bot -->
<div class="floating-controls">
        <a href="https://m.me/1527729664889976?is_ai=1" target="_blank" id="ai-bot-btn" class="rounded-full bg-blue-600 text-white shadow-xl hover:bg-cyan-500 transition duration-300 focus:outline-none focus:ring-4 focus:ring-cyan-400/50 flex items-center justify-center" title="Bot AI" style="width:44px;height:44px;">
            <img src="https://img.icons8.com/fluency/48/bot.png" alt="Bot AI" style="width:24px;height:24px;display:block;" />
        </a>
        <button id="scroll-to-top" onclick="scrollToTop()" class="rounded-full bg-purple-600 text-white shadow-xl hover:bg-purple-500 transition duration-300 focus:outline-none focus:ring-4 focus:ring-purple-400/50 flex items-center justify-center p-0" title="Sus" style="width:44px;height:44px;">
            <span style="display:flex;align-items:center;justify-content:center;width:100%;height:100%;">
                <img src="https://img.icons8.com/fluency/48/up--v1.png" alt="Sus" style="width:24px;height:24px;" />
            </span>
        </button>
</div>

<!-- Element pentru Mouse Tracking Glow (Wow Factor) -->
<div id="mouse-glow" class="mouse-glow"></div>

<script>
    document.addEventListener('DOMContentLoaded', () => {
        // --- PORTAL HERO ---
        const heroPortal = document.getElementById('hero-portal');
        if (heroPortal) {
            heroPortal.classList.add('animated-visible');
        }

        const heroTitle = document.getElementById('hero-title');
        if (heroTitle) {
            const nodes = Array.from(heroTitle.childNodes);
            const fragment = document.createDocumentFragment();

            const addLetterListeners = (span) => {
                const activate = () => span.classList.add('active');
                const deactivate = () => span.classList.remove('active');

                span.addEventListener('pointerenter', activate);
                span.addEventListener('pointerleave', deactivate);
                span.addEventListener('pointerdown', activate);
                span.addEventListener('pointerup', deactivate);
                span.addEventListener('pointercancel', deactivate);
            };

            nodes.forEach((node) => {
                if (node.nodeType === Node.TEXT_NODE) {
                    const text = node.textContent || '';
                    for (const char of text) {
                        if (char === '\n') {
                            continue;
                        }
                        if (char === ' ') {
                            fragment.appendChild(document.createTextNode(' '));
                            continue;
                        }
                        const span = document.createElement('span');
                        span.className = 'piano-letter';
                        span.textContent = char;
                        addLetterListeners(span);
                        fragment.appendChild(span);
                    }
                    return;
                }

                fragment.appendChild(node);
            });

            heroTitle.textContent = '';
            heroTitle.appendChild(fragment);
        }

        // --- PORTAL CONFIGURATOR ---

        const configuratorState = {
            goal: null,
            structure: new Set(),
            vibe: null,
            extras: new Set()
        };

        const goalButtons = document.querySelectorAll('#goal-choices .choice-tile');
        const structureButtons = document.querySelectorAll('#structure-choices .structure-chip');
        const vibeButtons = document.querySelectorAll('#vibe-choices .mood-chip');
        const extraButtons = document.querySelectorAll('#extra-choices .choice-tile');

        const summaryTitle = document.getElementById('summary-title');
        const summaryDescription = document.getElementById('summary-description');
        const summaryPackage = document.getElementById('summary-package');
        const summaryBudget = document.getElementById('summary-budget');
        const summaryDifficulty = document.getElementById('summary-difficulty');
        const summaryBadges = document.getElementById('summary-badges');
        const summaryFeed = document.getElementById('summary-feed');
        const progressBar = document.getElementById('configurator-progress');
        const progressLabel = document.getElementById('configurator-progress-label');

        const portalSummaryStatus = document.getElementById('portal-summary-status');
        const portalSummaryGoal = document.getElementById('portal-summary-goal');
        const portalSummaryPackage = document.getElementById('portal-summary-package');
        const portalSummaryInvestment = document.getElementById('portal-summary-investment');
        const portalSummaryExtras = document.getElementById('portal-summary-extras');
        const portalSummaryText = document.getElementById('portal-summary-text');

        const portalPackageInput = document.getElementById('portal-package-input');
        const portalInvestmentInput = document.getElementById('portal-investment-input');
        const portalGoalInput = document.getElementById('portal-goal-input');
        const portalVibeInput = document.getElementById('portal-vibe-input');
        const portalExtrasInput = document.getElementById('portal-extras-input');
        const portalNotesInput = document.getElementById('portal-notes-input');

        const projectMessageInput = document.getElementById('form-project');
        let lastPortalTemplate = '';

        if (projectMessageInput) {
            projectMessageInput.dataset.userEdited = 'false';
            projectMessageInput.addEventListener('input', () => {
                projectMessageInput.dataset.userEdited = 'true';
            });
        }

        const stepStatuses = {
            1: document.getElementById('status-step-1'),
            2: document.getElementById('status-step-2'),
            3: document.getElementById('status-step-3'),
            4: document.getElementById('status-step-4')
        };

        const goalLabels = {
            starter: 'Lansare rapidă',
            pro: 'Extindere de conținut',
            studio: 'Proiect complet personalizat'
        };

        const packageLabels = {
            starter: 'Starter',
            pro: 'Pro',
            studio: 'Studio'
        };

        const basePrices = {
            starter: 599,
            pro: 1499,
            studio: 2499
        };

        const structureOptions = {
            essentials: {
                label: 'Pagini principale',
                description: 'Acasă, despre, servicii, contact pregătite complet.',
                price: { starter: 0, pro: 0, studio: 0 }
            },
            portfolio: {
                label: 'Studii de caz',
                description: 'Prezentări de proiecte cu rezultate și testimoniale.',
                price: { starter: 180, pro: 240, studio: 320 }
            },
            blog: {
                label: 'Resurse & articole',
                description: 'Blog cu categorii și colectare de abonați.',
                price: { starter: 160, pro: 210, studio: 260 }
            },
            booking: {
                label: 'Programări & formulare',
                description: 'Calendar, formulare și notificări integrate.',
                price: { starter: 190, pro: 260, studio: 320 }
            },
            shop: {
                label: 'Produse digitale',
                description: 'Listare cursuri sau materiale digitale cu plată online.',
                price: { starter: 240, pro: 320, studio: 420 }
            }
        };

        const extraPricing = {
            'brand-kit': 420,
            'content-sprint': 320,
            automation: 450,
            'audio-id': 280
        };

        const vibeBadges = {
            playful: { icon: 'fas fa-comments', label: 'Ton prietenos' },
            minimal: { icon: 'fas fa-clone', label: 'Ton clar' },
            premium: { icon: 'fas fa-gem', label: 'Ton elegant' },
        };

        const extraBadges = {
            'brand-kit': { icon: 'fas fa-swatchbook', label: 'Brand Kit extins' },
            'content-sprint': { icon: 'fas fa-pen-nib', label: 'Atelier de conținut' },
            automation: { icon: 'fas fa-bolt', label: 'Integrare automatizări' },
            'audio-id': { icon: 'fas fa-music', label: 'Identitate audio' }
        };

        const structureBadges = {
            essentials: { icon: 'fas fa-house', label: 'Pagini principale' },
            portfolio: { icon: 'fas fa-photo-film', label: 'Studii de caz' },
            blog: { icon: 'fas fa-newspaper', label: 'Resurse & articole' },
            booking: { icon: 'fas fa-calendar-check', label: 'Programări integrate' },
            shop: { icon: 'fas fa-bag-shopping', label: 'Produse digitale' }
        };

        function formatPrice(value) {
            return `${value.toLocaleString('ro-RO')} €`;
        }

        function buildConfiguratorSnapshot() {
            const packageKey = configuratorState.goal;
            const structureKeys = Array.from(configuratorState.structure);
            if (!packageKey || structureKeys.length === 0) {
                return { ready: false };
            }

            const goalLabel = goalLabels[packageKey];
            const packageLabel = packageLabels[packageKey];
            const vibeKey = configuratorState.vibe;
            const vibeLabel = vibeKey ? vibeBadges[vibeKey].label : null;
            const extrasKeys = Array.from(configuratorState.extras);
            const extrasLabels = extrasKeys
                .map(extra => (extraBadges[extra] ? extraBadges[extra].label : ''))
                .filter(label => label.length > 0);
            const structureLabels = structureKeys
                .map(key => (structureOptions[key] ? structureOptions[key].label : ''))
                .filter(label => label.length > 0);

            let totalPrice = basePrices[packageKey] || 0;
            structureKeys.forEach(key => {
                const option = structureOptions[key];
                if (!option) return;
                const optionPrice = option.price?.[packageKey];
                if (typeof optionPrice === 'number') {
                    totalPrice += optionPrice;
                }
            });
            extrasKeys.forEach(extra => {
                totalPrice += extraPricing[extra] || 0;
            });

            const structureList = structureLabels.join(', ');
            const structureSentence = structureList.charAt(0).toLowerCase() + structureList.slice(1);
            const description = `Planul ${packageLabel} include ${structureSentence}${structureLabels.length > 1 ? '' : ''}, cu ${vibeLabel ? `un ton ${vibeLabel.toLowerCase()}` : 'mesaje adaptate'} și ${extrasLabels.length ? 'extra opționale deja alese' : 'posibilitatea de a adăuga extra ulterior'}.`;

            let structureSummary = 'Structură esențială, ușor de parcurs';
            if (structureLabels.length >= 4) {
                structureSummary = 'Structură completă, pregătită pentru scalare';
            } else if (structureLabels.length >= 2) {
                structureSummary = 'Structură extinsă, cu spațiu pentru dezvoltare';
            }

            const summaryLines = [
                `Obiectiv selectat: ${goalLabel}.`,
                `Pachet de bază: ${packageLabel} (${formatPrice(basePrices[packageKey])}).`,
                `Structură inclusă: ${structureLabels.length ? structureLabels.join(', ') : 'în definire'}.`,
                vibeLabel ? `Ton preferat: ${vibeLabel}.` : 'Ton preferat: în definire.',
                extrasLabels.length ? `Servicii suplimentare: ${extrasLabels.join(', ')}.` : 'Servicii suplimentare: neselectate momentan.'
            ];

            return {
                ready: true,
                goalKey: packageKey,
                goalLabel,
                packageKey,
                packageLabel,
                totalPrice,
                vibeKey,
                vibeLabel,
                extrasKeys,
                extrasLabels,
                structureKeys,
                structureLabels,
                structureSummary,
                description,
                summaryLines
            };
        }

        function buildSummaryMessage(snapshot) {
            if (!snapshot.ready) {
                return '';
            }
            const extrasText = snapshot.extrasLabels.length ? snapshot.extrasLabels.join(', ') : 'Fără servicii suplimentare';
            const vibeText = snapshot.vibeLabel || 'În definire';
            const lines = [
                `Pachet recomandat: ${snapshot.packageLabel}`,
                `Obiectiv selectat: ${snapshot.goalLabel}`,
                `Structură inclusă: ${snapshot.structureLabels.join(', ')}`,
                `Investiție estimată: de la ${formatPrice(snapshot.totalPrice)}`,
                `Ton preferat: ${vibeText}`,
                `Servicii suplimentare: ${extrasText}`
            ];
            return `Rezumat configurator:\n${lines.map(line => `- ${line}`).join('\n')}\n\nDetalii proiect:`;
        }

        function updateFormSummary(snapshot) {
            if (!portalSummaryStatus || !portalSummaryPackage) {
                return;
            }

            if (!snapshot.ready) {
                portalSummaryStatus.textContent = 'Completează portalul pentru a genera un rezumat aici.';
                portalSummaryGoal.textContent = '—';
                portalSummaryPackage.textContent = '—';
                portalSummaryInvestment.textContent = '—';
                portalSummaryExtras.textContent = '—';
                portalSummaryText.textContent = 'Configurează portalul pentru a avea un rezumat gata de trimis.';

                [portalPackageInput, portalInvestmentInput, portalGoalInput, portalVibeInput, portalExtrasInput, portalNotesInput]
                    .forEach(input => { if (input) input.value = ''; });

                lastPortalTemplate = '';
                if (projectMessageInput && projectMessageInput.dataset.userEdited !== 'true') {
                    projectMessageInput.value = '';
                    projectMessageInput.dataset.userEdited = 'false';
                }
                return;
            }

            portalSummaryStatus.textContent = 'Rezumat sincronizat automat din configurator.';
            portalSummaryGoal.textContent = snapshot.goalLabel;
            portalSummaryPackage.textContent = snapshot.packageLabel;
            portalSummaryInvestment.textContent = `de la ${formatPrice(snapshot.totalPrice)}`;
            portalSummaryExtras.textContent = snapshot.extrasLabels.length ? snapshot.extrasLabels.join(', ') : 'Fără servicii suplimentare';
            portalSummaryText.textContent = `${snapshot.structureSummary} · ${snapshot.description}`;

            if (portalPackageInput) portalPackageInput.value = snapshot.packageLabel;
            if (portalInvestmentInput) portalInvestmentInput.value = `de la ${formatPrice(snapshot.totalPrice)}`;
            if (portalGoalInput) portalGoalInput.value = snapshot.goalLabel;
            if (portalVibeInput) portalVibeInput.value = snapshot.vibeLabel || '';
            if (portalExtrasInput) portalExtrasInput.value = snapshot.extrasLabels.length ? snapshot.extrasLabels.join(', ') : 'Fără servicii suplimentare';
            if (portalNotesInput) portalNotesInput.value = snapshot.summaryLines.join(' | ');

            const template = buildSummaryMessage(snapshot);
            lastPortalTemplate = template;
            if (projectMessageInput && projectMessageInput.dataset.userEdited !== 'true') {
                projectMessageInput.value = template;
                projectMessageInput.dataset.userEdited = 'false';
            }
        }

        function refreshContactSummary() {
            updateFormSummary(buildConfiguratorSnapshot());
        }

        function updateStepStatus(step, completed, text) {
            const element = stepStatuses[step];
            if (!element) return;
            element.textContent = text;
            element.classList.toggle('locked', !completed);
        }

        function renderSummary() {
            const snapshot = buildConfiguratorSnapshot();

            if (!snapshot.ready) {
                summaryTitle.textContent = 'Alege un obiectiv pentru a începe';
                summaryDescription.textContent = 'Completează pașii portalului pentru a primi o recomandare personalizată și un buget orientativ.';
                summaryPackage.textContent = '--';
                summaryBudget.textContent = '--';
                summaryDifficulty.textContent = '--';
                summaryBadges.innerHTML = '';
                summaryFeed.innerHTML = `
                    <div class="achievement-item">
                        <i class="fas fa-circle-notch"></i>
                        <div>
                            <p class="text-sm text-gray-200">Selectează opțiunile pentru a primi o recomandare personalizată.</p>
                        </div>
                    </div>`;
                updateFormSummary(snapshot);
                return;
            }

            summaryTitle.textContent = `Plan ${snapshot.packageLabel} recomandat`;
            summaryDescription.textContent = snapshot.description;
            summaryPackage.textContent = snapshot.packageLabel;
            summaryBudget.textContent = `de la ${formatPrice(snapshot.totalPrice)}`;
            summaryDifficulty.textContent = snapshot.structureSummary;

            const badges = [
                { icon: 'fas fa-layer-group', label: `Pachet ${snapshot.packageLabel}` },
                { icon: 'fas fa-bullseye', label: snapshot.goalLabel },
                ...snapshot.structureKeys.map(key => structureBadges[key]).filter(Boolean),
                snapshot.vibeKey ? vibeBadges[snapshot.vibeKey] : null,
                ...snapshot.extrasKeys.map(extra => extraBadges[extra]).filter(Boolean)
            ].filter(Boolean);

            summaryBadges.innerHTML = badges.map(badge => `
                <span class="summary-badge">
                    <i class="${badge.icon} text-cyan-300"></i>
                    ${badge.label}
                </span>
            `).join('');

            summaryFeed.innerHTML = snapshot.summaryLines.map(item => `
                <div class="achievement-item">
                    <i class="fas fa-circle-dot"></i>
                    <div><p class="text-sm text-gray-200">${item}</p></div>
                </div>
            `).join('');

            updateFormSummary(snapshot);
        }

        function updateProgress() {
            let completed = 0;
            if (configuratorState.goal) completed++;
            if (configuratorState.structure.size > 0) completed++;
            if (configuratorState.vibe) completed++;

            let percent = Math.round((completed / 3) * 100);
            if (configuratorState.extras.size > 0 && percent < 100) {
                percent = Math.min(100, percent + 10);
            }
            progressBar.style.width = `${percent}%`;
            progressLabel.textContent = percent;
        }

        function refreshStructureStatus() {
            structureButtons.forEach(btn => btn.classList.toggle('active', configuratorState.structure.has(btn.dataset.structure)));
            const hasStructure = configuratorState.structure.size > 0;
            if (!hasStructure) {
                updateStepStatus(2, false, 'Configurează');
            } else {
                const labels = Array.from(configuratorState.structure)
                    .map(item => structureOptions[item]?.label || '')
                    .filter(Boolean);
                updateStepStatus(2, true, `Definit · ${labels.length} ${labels.length === 1 ? 'secțiune' : 'secțiuni'}`);
            }
        }

        function selectGoal(goal) {
            configuratorState.goal = goal;
            if (!configuratorState.structure.size) {
                configuratorState.structure.add('essentials');
            }
            goalButtons.forEach(btn => btn.classList.toggle('active', btn.dataset.goal === goal));
            updateStepStatus(1, true, `Selectat · ${goalLabels[goal]}`);
            refreshStructureStatus();
            renderSummary();
            updateProgress();
        }

        function toggleStructure(key) {
            if (configuratorState.structure.has(key)) {
                configuratorState.structure.delete(key);
            } else {
                configuratorState.structure.add(key);
            }
            refreshStructureStatus();
            renderSummary();
            updateProgress();
        }

        function selectVibe(vibe) {
            configuratorState.vibe = vibe;
            vibeButtons.forEach(btn => btn.classList.toggle('active', btn.dataset.vibe === vibe));
            updateStepStatus(3, true, `Activ · ${vibeBadges[vibe].label}`);
            renderSummary();
            updateProgress();
        }

        function toggleExtra(extra) {
            if (configuratorState.extras.has(extra)) {
                configuratorState.extras.delete(extra);
            } else {
                configuratorState.extras.add(extra);
            }
            extraButtons.forEach(btn => btn.classList.toggle('active', configuratorState.extras.has(btn.dataset.extra)));
            const hasExtras = configuratorState.extras.size > 0;
            updateStepStatus(4, true, hasExtras ? `Servicii alese: ${configuratorState.extras.size}` : 'Opțional · poți reveni oricând');
            renderSummary();
            updateProgress();
        }

        goalButtons.forEach(btn => {
            btn.addEventListener('click', () => selectGoal(btn.dataset.goal));
        });

        structureButtons.forEach(btn => {
            btn.addEventListener('click', () => toggleStructure(btn.dataset.structure));
        });

        vibeButtons.forEach(btn => {
            btn.addEventListener('click', () => selectVibe(btn.dataset.vibe));
        });

        extraButtons.forEach(btn => {
            btn.addEventListener('click', () => toggleExtra(btn.dataset.extra));
        });

        refreshStructureStatus();
        updateStepStatus(4, true, 'Opțional · poți reveni oricând');
        renderSummary();
        updateProgress();

        // --- 1. ECRAN DE INTRO CINEMATIC (JS) ---
        const introScreen = document.getElementById('intro-screen');
        const mainContent = document.getElementById('main-content');
        const logoContainer = document.getElementById('logo-container');
        const enterButton = document.getElementById('enter-button');

        // Aplică animațiile de la început
        setTimeout(() => {
            logoContainer.classList.remove('opacity-0', 'scale-75');
            enterButton.classList.remove('opacity-0');
            enterButton.classList.add('animated-visible');
        }, 100);

        function hideIntroScreen() {
            // Ascunde ecranul de intro
            introScreen.style.opacity = '0';
            introScreen.style.visibility = 'hidden';
            introScreen.style.zIndex = '0'; // Mută în spate

            // Afișează conținutul principal
            mainContent.style.display = 'block'; // Fostul content-hidden
            mainContent.classList.add('cinematic-fade-in', 'animated-visible');
        }

        enterButton.addEventListener('click', () => {
            enterButton.style.transform = 'scale(0.8)';
            enterButton.style.opacity = '0';
            setTimeout(hideIntroScreen, 500);
        });

        // --- 2. HEADER STICKY & SCROLL TO TOP & HAMBURGER MENU (JS) ---
        const header = document.getElementById('main-header');
        const hamburgerBtn = document.getElementById('hamburger-menu-btn');
        const menuOverlay = document.getElementById('menu-overlay');
        const menuItems = document.querySelectorAll('.menu-item');
        const scrollTopButton = document.getElementById('scroll-to-top');
        let lastScrollTop = 0;
        let menuOpen = false;

        // Toggle hamburger menu
        function toggleMenu() {
            menuOpen = !menuOpen;
            hamburgerBtn.classList.toggle('active');
            menuOverlay.classList.toggle('active');
            document.body.style.overflow = menuOpen ? 'hidden' : '';
        }

        hamburgerBtn.addEventListener('click', toggleMenu);

        // Close menu on item click
        menuItems.forEach(item => {
            item.addEventListener('click', function(e) {
                const href = this.getAttribute('href');
                if (href && href.startsWith('#') && !this.hasAttribute('onclick')) {
                    e.preventDefault();
                    toggleMenu();
                    setTimeout(() => {
                        const targetId = href.substring(1);
                        const targetSection = document.getElementById(targetId);
                        if (targetSection) {
                            targetSection.scrollIntoView({ behavior: 'smooth' });
                        }
                    }, 300);
                } else if (this.hasAttribute('onclick')) {
                    toggleMenu();
                }
            });
        });

        // Close menu on ESC key
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape' && menuOpen) {
                toggleMenu();
            }
        });

        // Asigură-te că scroll-to-top este mereu vizibil
        scrollTopButton.style.display = 'block';
        window.addEventListener('scroll', () => {
            const currentScrollTop = window.scrollY;

            // Header Sticky
            if (currentScrollTop > 50) {
                header.classList.add('header-scrolled');
            } else {
                header.classList.remove('header-scrolled');
            }
            
            // Scroll To Top (vizibil mereu)
            if (currentScrollTop > 300) {
                scrollTopButton.classList.add('show');
            } else {
                scrollTopButton.classList.remove('show');
            }

            lastScrollTop = currentScrollTop <= 0 ? 0 : currentScrollTop; 
        });

        // Functia globala de scroll to top
        window.scrollToTop = function() {
            window.scrollTo({
                top: 0,
                behavior: 'smooth'
            });
        };

        // --- 3. SCROLL ANIMATIONS (Intersection Observer) ---
        const observerOptions = {
            root: null,
            rootMargin: '0px',
            threshold: 0.2
        };

        const observer = new IntersectionObserver((entries, observer) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('animated-visible');
                    observer.unobserve(entry.target);
                }
            });
        }, observerOptions);

        document.querySelectorAll('.cinematic-fade-in, .cinematic-scale-in').forEach(el => {
            observer.observe(el);
        });
        
        // --- 4. MODAL LOGIC (PACHETE & GENERIC) ---

        /**
         * Deschide un modal și BLOCAZĂ scroll-ul paginii de fundal.
         * @param {string} modalId - ID-ul modalului de deschis.
         */
        function openModal(modalId) {
            const modal = document.getElementById(modalId);
            if (!modal) return;

            const contentContainer = modal.querySelector('.modal-content');
            if (!contentContainer) return;

            document.body.style.overflow = 'hidden';

            modal.classList.remove('hidden');
            modal.classList.add('flex', 'modal-enter-active');

            requestAnimationFrame(() => {
                contentContainer.classList.remove('scale-90', 'opacity-0');
                contentContainer.classList.add('modal-content-enter-active');
                contentContainer.scrollIntoView({ behavior: 'smooth', block: 'center' });
            });
        }

        /**
         * Închide un modal și RESTABILEȘTE scroll-ul paginii de fundal.
         * @param {string} modalId - ID-ul modalului de închis.
         */
        window.closeModal = function(modalId) {
            const modal = document.getElementById(modalId);
            if (!modal) return;

            const contentContainer = modal.querySelector('.modal-content');
            if (!contentContainer) return;

            contentContainer.classList.add('scale-90', 'opacity-0');
            contentContainer.classList.remove('modal-content-enter-active');

            modal.classList.remove('modal-enter-active');
            modal.style.opacity = '0';

            setTimeout(() => {
                modal.classList.add('hidden');
                modal.classList.remove('flex');
                modal.style.opacity = '1';
                const anyOpenModal = Array.from(document.querySelectorAll('.modal-container'))
                    .some(m => m.classList.contains('flex'));
                document.body.style.overflow = anyOpenModal ? 'hidden' : 'auto';

            }, 300);
        }
        
        // Deschide Modal Contact Formular
        window.openContactModal = function(e) {
            e.preventDefault();
            // Închide orice alt modal deschis înainte de a arăta formularul
            document.querySelectorAll('.modal-container').forEach(m => {
                if (m.classList.contains('flex') && m.id !== 'contact-form-modal') {
                    closeModal(m.id);
                }
            });
            refreshContactSummary();
            if (typeof resetChatbot === 'function') {
                resetChatbot();
            }
            openModal('contact-form-modal');
        }
        
        // Deschide Modal Legal & GDPR
        window.openLegalModal = function(e) {
            e.preventDefault();
             // Închide orice alt modal deschis înainte de a arăta informațiile legale
            document.querySelectorAll('.modal-container').forEach(m => {
                if (m.classList.contains('flex') && m.id !== 'legal-modal') {
                    closeModal(m.id);
                }
            });
            openModal('legal-modal');
        }

        // Închide modalele la click in afara ferestrei sau pe tasta ESC
        document.querySelectorAll('.modal-container').forEach(modal => {
            modal.addEventListener('click', (e) => {
                if (e.target === modal) {
                    const modalId = modal.id;
                    closeModal(modalId);
                }
            });
        });
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape') {
                 // Închide doar primul modal vizibil
                 const visibleModal = Array.from(document.querySelectorAll('.modal-container.flex')).pop();
                 if (visibleModal) {
                    closeModal(visibleModal.id);
                 }
            }
        });

        // --- 5. CARUSEL LOGIC (JS) ---

        const carousel = document.getElementById('projects-carousel');
        const items = carousel.querySelectorAll('.carousel-item');
        const prevButton = document.getElementById('carousel-prev');
        const nextButton = document.getElementById('carousel-next');
        const indicatorsContainer = document.getElementById('carousel-indicators');
        let currentIndex = 0;
        let autoPlayInterval;

        // Creează indicatorii
        items.forEach((_, index) => {
            const indicator = document.createElement('button');
            indicator.classList.add('w-3', 'h-3', 'rounded-full', 'bg-gray-600', 'transition', 'duration-300', 'hover:bg-purple-400');
            indicator.dataset.index = index;
            indicatorsContainer.appendChild(indicator);
            indicator.addEventListener('click', () => goToSlide(index));
        });

        const indicators = document.querySelectorAll('#carousel-indicators button');
        const storyChapterEl = document.getElementById('story-chapter');
        const storyBadgesContainer = document.getElementById('story-badges');
        const trackerTitle = document.getElementById('tracker-title');
        const trackerSubtitle = document.getElementById('tracker-subtitle');
        const trackerIndustry = document.getElementById('tracker-industry');
        const trackerImpact = document.getElementById('tracker-impact');
        const trackerBadge = document.getElementById('tracker-badge');
        const trackerFeed = document.getElementById('tracker-feed');

        const projectStories = {
            'dr-lazuran': {
                title: 'Dr. Lazuran',
                subtitle: 'Identitate digitală caldă pentru o clinică care pune accent pe încredere.',
                chapter: 'Am transformat vizitele la dentist într-o experiență prietenoasă cu o interfață luminoasă, programări rapide și mesaje liniștitoare.',
                badges: [
                    { icon: 'fas fa-tooth', label: 'Brand medical uman' },
                    { icon: 'fas fa-hourglass-half', label: 'Programări instant' },
                    { icon: 'fas fa-language', label: 'Mesaje bilingve' }
                ],
                industry: 'Sănătate',
                impact: '+45% programări online',
                badge: 'Experiență pacienți',
                feed: [
                    'Programările se confirmă automat, cu notificări clare pentru pacienți.',
                    'Materiale explicative integrate direct în pagină pentru a crește încrederea.'
                ]
            },
            workmatch: {
                title: 'WorkMatch',
                subtitle: 'Spațiu digital care conectează rapid companiile cu oamenii potriviți.',
                chapter: 'Am creat un parcurs clar pentru candidați și companii, cu filtre ușor de folosit și statistici pe înțelesul tuturor, astfel încât recrutarea să dureze mai puțin.',
                badges: [
                    { icon: 'fas fa-briefcase', label: 'Potrivire rapidă' },
                    { icon: 'fas fa-filter', label: 'Filtrare ușoară' },
                    { icon: 'fas fa-chart-pie', label: 'Statistici vizuale' }
                ],
                industry: 'HR & Recrutare',
                impact: '-30% timp până la shortlist',
                badge: 'Eficiență recrutare',
                feed: [
                    'Integrare cu instrumentele HR existente și export rapid de rapoarte.',
                    'Texte clare care îi ghidează pas cu pas pe candidați și recrutori.'
                ]
            },
            raropem: {
                title: 'Raropem',
                subtitle: 'Catalog digital pentru componente industriale rare.',
                chapter: 'Am creat un catalog ușor de parcurs, cu căutare după nevoi reale și prezentări vizuale care reduc întrebările repetitive.',
                badges: [
                    { icon: 'fas fa-gears', label: 'Catalog specializat' },
                    { icon: 'fas fa-search', label: 'Căutare intuitivă' },
                    { icon: 'fas fa-cubes', label: 'Prezentări 3D' }
                ],
                industry: 'Industrial & Automotive',
                impact: '+60% solicitări calificate',
                badge: 'Expertiză tehnică',
                feed: [
                    'Filtrare pe industrii pentru oferte personalizate.',
                    'Actualizări automate pentru stoc și disponibilitate.'
                ]
            },
            'your-project': {
                title: 'Proiectul tău',
                subtitle: 'Scriem împreună următoarea poveste de succes.',
                chapter: 'Ai o idee care merită să fie evidențiată? Portalul nostru te ajută să alegi direcția potrivită, iar noi o transformăm într-un studiu de caz solid.',
                badges: [
                    { icon: 'fas fa-lightbulb', label: 'Idee în incubare' },
                    { icon: 'fas fa-users', label: 'Echipă dedicată' },
                    { icon: 'fas fa-fire', label: 'Impact la lansare' }
                ],
                industry: 'Custom',
                impact: '∞ posibilități',
                badge: 'Viziune în construcție',
                feed: [
                    'Definește tonul în configurator, iar noi conturăm structura potrivită.',
                    'Sesiuni relaxate de co-creație și prototipare rapidă.'
                ]
            }
        };

        function renderProjectStory(projectKey) {
            const story = projectStories[projectKey];
            if (!story) {
                storyChapterEl.textContent = 'Selectează un proiect pentru a vedea detalii și rezultate.';
                storyBadgesContainer.innerHTML = '';
                trackerTitle.textContent = 'Alege un proiect';
                trackerSubtitle.textContent = 'Caruselul deblochează detalii despre industrie și rezultate la fiecare slide.';
                trackerIndustry.textContent = '—';
                trackerImpact.textContent = '—';
                trackerBadge.textContent = '—';
                trackerFeed.innerHTML = `
                    <div class="achievement-item">
                        <i class="fas fa-compass"></i>
                        <div>
                            <p class="text-sm text-gray-200">Glisează pentru a vedea cum arată rezultatele în industrii diferite.</p>
                        </div>
                    </div>`;
                return;
            }

            trackerTitle.textContent = story.title;
            trackerSubtitle.textContent = story.subtitle;
            storyChapterEl.textContent = story.chapter;
            storyBadgesContainer.innerHTML = story.badges.map(badge => `
                <span class="story-badge">
                    <i class="${badge.icon} mr-1"></i>${badge.label}
                </span>
            `).join('');
            trackerIndustry.textContent = story.industry;
            trackerImpact.textContent = story.impact;
            trackerBadge.textContent = story.badge;
            trackerFeed.innerHTML = story.feed.map(item => `
                <div class="achievement-item">
                    <i class="fas fa-star"></i>
                    <div><p class="text-sm text-gray-200">${item}</p></div>
                </div>
            `).join('');
        }

        function updateCarousel(newIndex) {
            if (newIndex >= items.length) {
                newIndex = 0;
            } else if (newIndex < 0) {
                newIndex = items.length - 1;
            }
            
            items[currentIndex].classList.remove('opacity-100', 'z-10');
            items[currentIndex].classList.add('opacity-0', 'z-0');
            
            currentIndex = newIndex;

            items[currentIndex].classList.remove('opacity-0', 'z-0');
            items[currentIndex].classList.add('opacity-100', 'z-10');

            indicators.forEach(ind => ind.classList.remove('bg-purple-500'));
            indicators[currentIndex].classList.add('bg-purple-500');
            renderProjectStory(items[currentIndex].dataset.project);
        }

        function goToSlide(index) {
            clearInterval(autoPlayInterval);
            updateCarousel(index);
            startAutoPlay();
        }

        function nextSlide() {
            updateCarousel(currentIndex + 1);
        }

        prevButton.addEventListener('click', () => goToSlide(currentIndex - 1));
        nextButton.addEventListener('click', () => goToSlide(currentIndex + 1));
        
        function startAutoPlay() {
            autoPlayInterval = setInterval(nextSlide, 5000);
        }

        updateCarousel(0);
        startAutoPlay();

        // --- 5.b CONTACT MOOD & CHATBOT ---
        const contactMoodSelector = document.getElementById('contact-mood-selector');
        const contactMoodInput = document.getElementById('contact-mood-input');
        const contactMoodButtons = contactMoodSelector ? contactMoodSelector.querySelectorAll('.mood-chip') : [];

        contactMoodButtons.forEach(button => {
            button.addEventListener('click', () => {
                contactMoodButtons.forEach(btn => btn.classList.remove('active'));
                button.classList.add('active');
                if (contactMoodInput) {
                    contactMoodInput.value = button.dataset.mood;
                }
                updateChatbotSummary();
            });
        });

        const chatbotWindow = document.getElementById('contact-chatbot');
        const chatbotActions = document.getElementById('chatbot-actions');
        const chatbotMessageText = document.getElementById('chatbot-message-text');
        const chatbotSummary = document.getElementById('chatbot-summary');
        const chatbotInput = document.getElementById('chatbot-input');

        const stage0Actions = [
            { label: 'Abia schițată', value: 'start' },
            { label: 'În lucru', value: 'in-progress' },
            { label: 'Deja live, vreau upgrade', value: 'live' }
        ];

        const stage1Actions = [
            { label: 'Mai multe lead-uri', value: 'leads' },
            { label: 'Brand awareness memorabil', value: 'awareness' },
            { label: 'Automatizare & eficiență', value: 'automation' }
        ];

        const ideaCopy = {
            start: 'abia schițată și gata de validare rapidă',
            'in-progress': 'în lucru și pregătită de rafinare',
            live: 'deja live, cu dorință de upgrade major'
        };

        const outcomeCopy = {
            leads: 'un flux constant de lead-uri calificate',
            awareness: 'o poveste de brand memorabilă',
            automation: 'automatizări care eliberează timp din echipă'
        };

        let chatbotStage = 0;
        let chatbotIdea = null;
        let chatbotOutcome = null;

        function renderChatbotActions(actions) {
            if (!chatbotActions) return;
            chatbotActions.innerHTML = actions.map(action => `
                <button type="button" class="chatbot-action-btn" data-response="${action.value}">${action.label}</button>
            `).join('');
            chatbotActions.querySelectorAll('button').forEach(btn => {
                btn.addEventListener('click', () => handleChatbotResponse(btn.dataset.response));
            });
        }

        function resetChatbot() {
            chatbotStage = 0;
            chatbotIdea = null;
            chatbotOutcome = null;
            if (chatbotMessageText) {
                chatbotMessageText.textContent = 'Salut! Sunt Miorița. Spune-mi în ce stadiu este ideea ta și îți pregătesc un scurt rezumat pentru echipă.';
            }
            if (chatbotSummary) {
                chatbotSummary.classList.add('hidden');
            }
            if (chatbotInput) {
                chatbotInput.value = '';
            }
            renderChatbotActions(stage0Actions);
        }

        function updateChatbotSummary() {
            if (chatbotStage < 2 || !chatbotSummary) return;
            const ideaText = ideaCopy[chatbotIdea] || 'în explorare';
            const outcomeText = outcomeCopy[chatbotOutcome] || 'impact personalizat';
            const moodValue = contactMoodInput ? contactMoodInput.value : '';
            const moodText = moodValue ? `Vibe preferat: ${moodValue}.` : 'Vibe în definire – spune-ne ce preferi.';
            const summaryText = `Rezumat Miorița: idee ${ideaText}, obiectiv ${outcomeText}. ${moodText}`;
            chatbotSummary.textContent = summaryText;
            chatbotSummary.classList.remove('hidden');
            if (chatbotInput) {
                chatbotInput.value = summaryText.replace('Rezumat Miorița: ', '');
            }
        }

        function finalizeChatbot() {
            chatbotStage = 2;
            if (chatbotMessageText) {
                chatbotMessageText.textContent = 'Excelent! Am pregătit un rezumat pentru echipă. Dacă vrei, poți reîncepe dialogul.';
            }
            updateChatbotSummary();
            if (chatbotActions) {
                chatbotActions.innerHTML = '<button type="button" class="chatbot-action-btn" data-response="reset">Reia dialogul</button>';
                const resetButton = chatbotActions.querySelector('button');
                if (resetButton) {
                    resetButton.addEventListener('click', () => resetChatbot());
                }
            }
        }

        function handleChatbotResponse(response) {
            if (response === 'reset') {
                resetChatbot();
                return;
            }

            if (chatbotStage === 0) {
                chatbotIdea = response;
                chatbotStage = 1;
                if (chatbotMessageText) {
                    chatbotMessageText.textContent = 'Super! Ce rezultat te entuziasmează cel mai tare?';
                }
                renderChatbotActions(stage1Actions);
                if (chatbotSummary) {
                    chatbotSummary.classList.add('hidden');
                }
            } else if (chatbotStage === 1) {
                chatbotOutcome = response;
                finalizeChatbot();
            }
        }

        if (chatbotWindow) {
            resetChatbot();
        }

        const contactForm = document.getElementById('project-contact-form');
        const confirmModal = document.getElementById('form-confirm-modal');
        const confirmButton = document.getElementById('confirm-ok-btn');

        if (contactForm) {
            contactForm.addEventListener('submit', async (event) => {
                event.preventDefault();
                const formData = new FormData(contactForm);

                try {
                    const response = await fetch(contactForm.action, {
                        method: 'POST',
                        body: formData,
                        headers: { 'Accept': 'application/json' }
                    });

                    if (!response.ok) {
                        throw new Error('Form submission failed');
                    }

                    if (confirmModal) {
                        confirmModal.style.display = 'flex';
                    }

                    contactForm.reset();
                    contactMoodButtons.forEach(btn => btn.classList.remove('active'));
                    if (contactMoodInput) {
                        contactMoodInput.value = '';
                    }
                    if (projectMessageInput) {
                        projectMessageInput.dataset.userEdited = 'false';
                    }
                    refreshContactSummary();
                    if (typeof resetChatbot === 'function') {
                        resetChatbot();
                    }

                    const closeConfirmation = () => {
                        if (confirmModal) {
                            confirmModal.style.display = 'none';
                        }
                        closeModal('contact-form-modal');
                        window.location.hash = '#acasa';
                        window.scrollTo({ top: 0, behavior: 'smooth' });
                        if (confirmButton) {
                            confirmButton.onclick = null;
                        }
                    };

                    let autoCloseTimer = null;
                    if (confirmModal) {
                        autoCloseTimer = setTimeout(closeConfirmation, 2500);
                    }

                    if (confirmButton) {
                        confirmButton.onclick = () => {
                            if (autoCloseTimer) {
                                clearTimeout(autoCloseTimer);
                            }
                            closeConfirmation();
                        };
                    }
                } catch (error) {
                    console.error('Eroare la trimiterea formularului:', error);
                    alert('A apărut o eroare la trimiterea formularului. Te rugăm să încerci din nou.');
                }
            });
        }

        // --- 6. MOUSE TRACKING GLOW (WOW FACTOR) ---
        const mouseGlow = document.getElementById('mouse-glow');
        const container = document.body;

        container.addEventListener('mousemove', (e) => {
            if (window.innerWidth >= 768) {
                mouseGlow.style.opacity = '0.1';
                mouseGlow.style.transform = `translate(${e.clientX - 75}px, ${e.clientY - 75}px)`;
            }
        });

        container.addEventListener('mouseleave', () => {
             if (window.innerWidth >= 768) {
                mouseGlow.style.opacity = '0';
             }
        });
        
        // --- 7. BACKGROUND NEURAL NETWORK LOGIC (Canvas) ---
        const canvas = document.getElementById('neural-net-canvas');
        const ctx = canvas.getContext('2d');
        let width = canvas.width = window.innerWidth;
        let height = canvas.height = window.innerHeight;

        const PARTICLES_COUNT = 60; // Optimizat pentru performanță
        const CONNECTION_DISTANCE = 150; // Optimizat
        const PARTICLE_COLOR = 'rgba(139, 92, 246, 0.8)';
        const LINE_COLOR = 'rgba(150, 150, 150, 0.5)';

        let particles = [];
        let raf;
        let lastFrameTime = 0;
        const FPS_LIMIT = 60;
        const FRAME_INTERVAL = 1000 / FPS_LIMIT;
        
        // Clasa Particulei
        class Particle {
            constructor(x, y) {
                this.x = x;
                this.y = y;
                // Viteză optimizată
                this.vx = (Math.random() - 0.5) * 0.5; 
                this.vy = (Math.random() - 0.5) * 0.5;
                this.radius = Math.random() * 0.6 + 0.6;
                this.impulseTime = 0;
            }

            draw() {
                ctx.beginPath();
                const size = this.radius * (1 + this.impulseTime * 1.5);
                const color = this.impulseTime > 0 ? `rgba(6, 182, 212, ${0.7 - this.impulseTime * 0.4})` : PARTICLE_COLOR;
                
                ctx.fillStyle = color;
                ctx.arc(this.x, this.y, size, 0, Math.PI * 2);
                ctx.fill();
                
                if (this.impulseTime > 0) {
                    this.impulseTime -= 0.04;
                    if (this.impulseTime < 0) this.impulseTime = 0;
                } else if (Math.random() < 0.003) {
                    this.impulseTime = 1.0;
                }
            }

            update() {
                this.x += this.vx;
                this.y += this.vy;

                // Margini: Rebound
                if (this.x < 0 || this.x > width) this.vx *= -1;
                if (this.y < 0 || this.y > height) this.vy *= -1;
            }
        }
        
        // Inițializarea particulelor
        function initParticles() {
            particles = [];
            for (let i = 0; i < PARTICLES_COUNT; i++) {
                // Generare particule în interiorul canvasului
                const x = Math.random() * width;
                const y = Math.random() * height;
                particles.push(new Particle(x, y));
            }
        }

        // Desenarea conexiunilor
        function drawLines() {
            for (let i = 0; i < particles.length; i++) {
                for (let j = i + 1; j < particles.length; j++) {
                    const p1 = particles[i];
                    const p2 = particles[j];

                    // Calculează distanța
                    const dx = p1.x - p2.x;
                    const dy = p1.y - p2.y;
                    const distance = Math.sqrt(dx * dx + dy * dy);

                    if (distance < CONNECTION_DISTANCE) {
                        const opacity = 1 - (distance / CONNECTION_DISTANCE);

                        ctx.beginPath();
                        ctx.strokeStyle = `rgba(100, 100, 100, ${opacity * 0.6})`; // Linii mai subtile, dar vizibile
                        ctx.lineWidth = 0.8; 
                        ctx.moveTo(p1.x, p1.y);
                        ctx.lineTo(p2.x, p2.y);
                        ctx.stroke();
                        
                        // Efect de strălucire pe linie (simulare impuls)
                        if (p1.impulseTime > 0.6 || p2.impulseTime > 0.6) {
                            ctx.strokeStyle = `rgba(6, 182, 212, ${opacity * 0.8})`; // Cyan for impulse, mai vizibil
                            ctx.lineWidth = 1.5; // Linie de impuls mai groasă
                            ctx.stroke();
                        }
                    }
                }
            }
        }

        // Bucle de animație cu FPS limiter
        function animate(timestamp) {
            if (!lastFrameTime) lastFrameTime = timestamp;
            const elapsed = timestamp - lastFrameTime;
            
            if (elapsed < FRAME_INTERVAL) {
                raf = requestAnimationFrame(animate);
                return;
            }
            
            lastFrameTime = timestamp - (elapsed % FRAME_INTERVAL);
            
            ctx.fillStyle = 'rgba(3, 7, 18, 0.3)';
            ctx.fillRect(0, 0, width, height); 
            
            drawLines();

            particles.forEach(p => {
                p.update();
                p.draw();
            });

            raf = requestAnimationFrame(animate);
        }
        
        // Re-ajustare la redimensionare
        function onResize() {
            width = canvas.width = window.innerWidth;
            height = canvas.height = window.innerHeight;
            initParticles();
            
            // Re-evaluare isMobile la redimensionare
            isMobile = window.innerWidth < 1024;
            if (isMobile) {
                scrollTopButton.style.display = 'none';
            } else {
                scrollTopButton.style.display = 'block';
            }
        }
        
        window.addEventListener('resize', onResize);
        
        // Start Canvas
        initParticles();
        animate();


        // Asigură tranziția smooth la click pe linkurile hash
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                if (this.getAttribute('href') !== '#') {
                    e.preventDefault();
                    document.querySelector(this.getAttribute('href')).scrollIntoView({
                        behavior: 'smooth'
                    });
                }
            });
        });

    });
</script>
    
</body>
</html>
